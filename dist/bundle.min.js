window.annexSearch=window.annexSearch||{},window.annexSearch.DependencyLoader=function(){let e=[],t=0,n=function(e,n){return++t,r(e),!0===i(e)&&(n.apply(window.annexSearch.DependencyLoader),!0)},r=function(e){if(t>1e4){let n="Could not complete an attempt: [";throw n+=e.join(", ")+"]",window.annexSearch&&window.annexSearch.LoggingUtils&&window.annexSearch.LoggingUtils.error(n),Error(n)}},i=function(e){let t=0,n=e.length;for(;t<n;++t)if(!1===a(e[t]))return!1;return!0},a=function(e){let t=e.split("."),n=window;for(var r of t){if(void 0===n[r])return!1;n=n[r]}return!0};return{load:function(n){n=n||function(){};let r;for(;e.length>0;)!1===(r=e.shift()).apply(window.annexSearch.DependencyLoader)&&e.push(r);n(t)},push:function(t,r){"string"==typeof t&&(t=[t]);let i=[t,r],a=function(){return n.apply(window.annexSearch.DependencyLoader,i)};return e.push(a),!0}}}(),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.AnnexSearch=window.annexSearch.AnnexSearch||class e{static #a=null;static #b=[];static #c="0.1.0-dev";static #d(){for(var t in window.annexSearch)!1!==window.annexSearch.hasOwnProperty(t)&&"function"==typeof window.annexSearch[t]&&"BaseUtils"!==t&&!1!==t.endsWith("Utils")&&window.annexSearch[t].setup&&window.annexSearch[t].setup();return!0}static clearFocused(){return this.#a=null,!0}static getFocused(){return this.#a}static getRegistered(){return this.#b}static getRegisteredById(e){let t=this.#b;for(let n of t)if(n.getAttribute("data-annex-search-id")===e)return n;return null}static getShowing(){let e=this.#b,t=[];for(let n of e)!0===n.showing()&&t.push(n);return t}static getVersion(){return this.#c}static register(e){return!1===this.#b.includes(e)?(this.#b.push(e),!0):(this.#b=this.#b.filter(function(t){return t!==e}),this.#b.push(e),!0)}static setFocused(e){return this.#a=e,null!==e&&(this.register(e),!0)}static setup(){return this.#d(),window.customElements.define("annex-search-widget",window.annexSearch.AnnexSearchWidgetWebComponent),!0}}}),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.Base=window.annexSearch.Base||class e{#e=new EventTarget;_$annexSearchWidget=null;_data={};constructor(e){this._$annexSearchWidget=e}#f(t,n,r){let i="data.set",a={};return a.key=t.join("."),a.value=r,this.dispatchCustomEvent(i,a),i="data.set."+t.join("."),this.dispatchCustomEvent(i,a),!0}addCustomEventListener(e,t,n=!1){return this.#e.addEventListener(e,t,{once:n}),!0}dispatchCustomEvent(e,t={}){t.$annexSearchWidget=this.getWebComponent();let n=new CustomEvent(e,{detail:t});return this.#e.dispatchEvent(n),!0}error(){let e=window.annexSearch.LoggingUtils,t=window.annexSearch.LoggingUtils.error.apply(e,arguments);return t}get(e){if(void 0===e)return this._data;let t=this._data[e];if(void 0!==t)return t;let n=e.split(".");if(1===n.length){let r=window.annexSearch.ErrorUtils.getMessage("base.get.key.invalid",e);this.error(r);return}for(let i of(t=this._data,n))if(void 0===(t=t[i])){let a=window.annexSearch.ErrorUtils.getMessage("base.get.key.invalid",e);this.error(a);return}return t}getHelper(e){return this.getWebComponent().getHelper(e)}getView(e){let t=(this.get("views")||{})[e]||void 0;if(void 0!==t)return t;if("root"===e)return this.getWebComponent().getView("root");let n=e.split(".");for(let r of(t=this.getWebComponent().getView("root"),n))"root"!==r&&(t=t.getView(r));return t}getWebComponent(){return this._$annexSearchWidget}merge(e){let t=this.#f.bind(this);return window.annexSearch.DataUtils.deepMerge(this._data,e,t),this.dispatchCustomEvent("data.merge",{data:e}),!0}set(e,t){if(void 0===e){let n=window.annexSearch.ErrorUtils.getMessage("base.set.key.undefined");return this.error(n),!1}if(void 0===t){let r=window.annexSearch.ErrorUtils.getMessage("base.set.value.undefined");return this.error(r),!1}let i=this._data,a=this._data[e],s=e;if(void 0===a){let o=e.split(".");for(s of(a=this._data,o))i=a,a=a[s]}i[s]=t,a=this;let u={key:e,value:t,reference:a};return this.dispatchCustomEvent("data.set",u),this.dispatchCustomEvent("data.set."+e,u),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.Base"],function(){window.annexSearch.BaseHelper=window.annexSearch.BaseHelper||class e extends window.annexSearch.Base{constructor(e){super(e)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseHelper"],function(){window.annexSearch.ConfigHelper=window.annexSearch.ConfigHelper||class e extends window.annexSearch.BaseHelper{_data={$container:null,autoFocusOnScroll:!0,callbacks:{result:{click:function(e){},copy:function(e){},focus:function(e){}},results:{empty:function(e){},error:function(e){},idle:function(e){},loaded:function(e){}},root:{hide:function(e){},show:function(e){},toggle:function(e){}}},chips:{idle:[]},cluster:{apiKey:null,collectionName:null,hostname:null,presetName:null},colorScheme:"auto",copy:{disabled:{title:"Search disabled",message:"Apologies but search has been disabled for the time being."},empty:{message:"No results found..."},error:{message:"Something went wrong..."},field:{placeholder:"Search..."},idle:{chips:"Popular searches:",message:"Start typing to begin your search..."},statusBar:{message:"Instantly search through our database"}},debug:!1,env:"prod",keyboardShortcut:"⌘k",highlightTagName:"MARK",id:window.annexSearch.StringUtils.generateUUID(),layout:"modal",modalAlignment:"top",resources:{css:["https://cdn.jsdelivr.net/gh/annex-search/AnnexUI@0.1.0-dev/dist/bundle.min.css",]},schemaKey:"auto-v0.1.0",searchOptions:{highlight_full_fields:null,highlight_affix_num_tokens:null,snippet_threshold:null},searchRequestMethod:"lifo",showOverlay:!0,templates:{}};constructor(e){super(e),this.#g(),this.#h()}#g(){return this.#i(),!0}#i(){let t=this.#j.bind(this);return this.addCustomEventListener("data.set",t),!0}#k(n){n.type;let r=this._data.chips.idle||[];for(let i in r){let a=r[i];a.constructor===String&&(r[i]={label:a,query:a})}return!0}#j(s){return this.#k(s),!0}#l(o,u){let l=window.annexSearch.ErrorUtils.getMessage("stylesheets.failedLoading");return window.annexSearch.LoggingUtils.error(l,u),o(),!0}#m(c){return window.annexSearch.ElementUtils.waitForAnimation().then(c),!0}#n(h){let f=h.shadow,d=this.#l.bind(this),p=this.#m.bind(this);return Promise.all(Array.from(new Set(this.get("resources").css)).map(function(e){return new Promise(function(t,n){let r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onload=t,r.onerror=d.bind(null,n),f.appendChild(r)})})).then(function(){return new Promise(function(e){p(e)})})}#h(){return"prod"!==this.get("env")}loadStylesheets(e){return this.#n(e)}triggerCallback(e,t={}){let n=this._data.callbacks||{},r=e.split(".");for(var i of r)if(null===(n=n[i]??null))return!1;let a=this.getWebComponent();t.$annexSearchWidget=a;let s=new CustomEvent(e,{detail:t});return n.apply(a,[s]),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseHelper"],function(){window.annexSearch.TypesenseHelper=window.annexSearch.TypesenseHelper||class e extends window.annexSearch.BaseHelper{#o=null;#p=[];constructor(e){super(e)}#q(t){let n=t.getOptions();if(null===n.q){let r=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.options.q.null");return t.setError("option",r),!1}if(void 0===n.q){let i=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.options.q.undefined");return t.setError("option",i),!1}if(""===n.q.trim()){let a=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.options.q.empty");return t.setError("option",a),!1}let s=t.getSearchOptions();if(s.preset)return!0;if(null===s.query_by){let o=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.searchOptions.query_by.null");return t.setError("searchOptions",o),!1}if(void 0===s.query_by){let u=window.annexSearch.ErrorUtils.getMessage("typesenseHelper.searchOptions.query_by.undefined");return t.setError("searchOptions",u),!1}return!0}abortLastRequest(){if(null===this.#o)return!1;let e=this.#o;this.#o=null,e.abort();let t=this.#p.indexOf(e);return -1!==t&&(this.#p.splice(t,1),!0)}getHighlightEndTag(){return"</"+this.getHelper("config").get("highlightTagName").toLowerCase()+">"}getHighlightStartTag(){return"<"+this.getHelper("config").get("highlightTagName").toLowerCase()+">"}replaceHightlightTags(e){let t=this.getHighlightStartTag(),n=this.getHighlightEndTag(),r=t.replace("<","&lt;").replace(">","&gt;"),i=n.replace("<","&lt;").replace(">","&gt;");return e=(e=e.replaceAll(r,t)).replaceAll(i,n)}search(e,t={}){this.abortLastRequest();let n=this.getWebComponent(),r=new window.annexSearch.TypesenseSearchRequest(n);return(r.setQuery(e),r.setOptions(t),!1===this.#q(r))?window.annexSearch.FunctionUtils.getEmptyPromise(r):(this.#o=r,this.#p.push(r),r.fetch())}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseHelper"],function(){window.annexSearch.WebComponentUIHelper=window.annexSearch.WebComponentUIHelper||class e extends window.annexSearch.BaseHelper{#r=null;#s=2147483647;constructor(e){super(e)}#t(){return this.getWebComponent().removeAttribute("inert"),!0}#u(){return this.getWebComponent().setAttribute("inert",""),!0}#v(){let t=window.annexSearch.AnnexSearch.getRegistered();if(0===t.length||1===t.length)return!1;let n=this.getWebComponent();for(let r in t){let i=t[r];if(i.removeAttribute("data-annex-search-modal-alignment"),"modal"!==i.getHelper("config").get("layout"))continue;let a=n.getConfig("modalAlignment");i.setAttribute("data-annex-search-modal-alignment",a)}return!0}#w(){let s=window.annexSearch.AnnexSearch.getRegistered();if(0===s.length||1===s.length)return!1;this.getWebComponent();let o=0;for(let u in s.reverse()){let l=s[u];l.removeAttribute("data-annex-search-modal-order"),"modal"===l.getHelper("config").get("layout")&&!1!==l.showing()&&(l.setAttribute("data-annex-search-modal-order",o),o++)}return!0}#x(){let c=this.getWebComponent();return"inline"===this.getHelper("config").get("layout")?(c.setAttribute("data-annex-search-overlay","0"),!0):!1===this.getHelper("config").get("showOverlay")?(c.setAttribute("data-annex-search-overlay","0"),!0):(c.setAttribute("data-annex-search-overlay","1"),!0)}#y(){let h=this.getWebComponent(),f=h.showing();return f=Number(f),h.setAttribute("data-annex-search-showing",f),!0}autoShow(){return"inline"===this.getHelper("config").get("layout")&&(this.getWebComponent().show(),!0)}disable(){let e=this.getWebComponent();this.getHelper("config").triggerCallback("root.disable"),e.dispatchCustomEvent("root.disable"),e.setAttribute("data-annex-search-disabled","1");let t=this.getHelper("config").get("copy.disabled.title"),n=this.getHelper("config").get("copy.disabled.message");return e.showToast(t,n,null).setUnescapable(),!0}enable(){let e=this.getWebComponent();return this.getHelper("config").triggerCallback("root.enable"),e.dispatchCustomEvent("root.enable"),e.removeAttribute("data-annex-search-disabled"),window.annexSearch.ToastUtils.hideAll(e),!0}hide(){let e=this.getWebComponent();this.getHelper("config").triggerCallback("root.hide"),e.dispatchCustomEvent("root.hide"),e.getView("root").blur(),this.#y(),this.#u(),this.#w();let t=this.#r;return window.annexSearch.ElementUtils.waitForAnimation().then(function(){t&&t.focus()}),!0}setAttributes(){let e=this.getWebComponent(),t=this.getHelper("config").get("colorScheme"),n=this.getHelper("config").get("id"),r=this.getHelper("config").get("layout"),i=this.getHelper("config").get("schemaKey");return e.setAttribute("data-annex-search-color-scheme",t),e.setAttribute("data-annex-search-id",n),e.setAttribute("data-annex-search-layout",r),e.setAttribute("data-annex-search-ready","1"),e.setAttribute("data-annex-search-schema-key",i),this.#v(),this.#x(),this.#y(),!0}setQueryAttribute(){let e=this.getWebComponent(),t=e.getView("root").getView("header.field").first("input").value;return t=t.trim(),e.setAttribute("data-annex-search-query",t),!0}setupConfigHelperCustomEventListeners(){let e=this.getHelper("config");return e.addCustomEventListener("data.set.colorScheme",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),e.addCustomEventListener("data.set.id",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),e.addCustomEventListener("data.set.layout",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),e.addCustomEventListener("data.set.overlay",function(e){return e.detail.$annexSearchWidget.getHelper("webComponentUI").setAttributes(),!0}),!0}setZIndex(){let e=window.annexSearch.AnnexSearch.getRegistered();if(0===e.length||1===e.length)return!1;let t=this.#s,n=this.getWebComponent();for(let r in n.style.zIndex=t,e){let i=e[r];if(i===n||!1===i.showing())continue;let a=t-r-1;i.style.zIndex=a}return!0}show(){this.#r=document.activeElement||null;let e=this.getWebComponent();this.getHelper("config").triggerCallback("root.show"),e.dispatchCustomEvent("root.show"),this.#y(),this.#t(),this.#w(),this.setZIndex();let t=e.getView("root").getView("root.body.results.found"),n=t.getResults();if(0===n.length)return e.getView("root").focus(),!0;let r=t.getFocusedIndex();null===r&&(r=0);let i=n[r];return void 0===i||(i.focus(),!0)}toggle(){let e=this.getWebComponent();return this.getHelper("config").triggerCallback("root.toggle"),e.dispatchCustomEvent("root.toggle"),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.Base"],function(){window.annexSearch.BaseRequest=window.annexSearch.BaseRequest||class e extends window.annexSearch.Base{constructor(e){super(e)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseRequest"],function(){window.annexSearch.TypesenseCollectionRequest=window.annexSearch.TypesenseCollectionRequest||class e extends window.annexSearch.BaseRequest{}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseRequest"],function(){window.annexSearch.TypesenseSearchRequest=window.annexSearch.TypesenseSearchRequest||class e extends window.annexSearch.BaseRequest{#z=null;#A=!1;#B=null;#C={page:1,per_page:10};#D=null;#E=null;setQuery(e){return this.#D=e,this.#C.q=e,this.#C.highlight_end_tag=this.getHelper("typesense").getHighlightEndTag(),this.#C.highlight_start_tag=this.getHelper("typesense").getHighlightStartTag(),!0}#F(t,n){let r=this.#G.bind(this),i=this.#H.bind(this);return window.fetch(t,n).then(r).catch(i)}#I(){return{hostname:this.getHelper("config").get("cluster.hostname"),protocol:"https",apiKey:this.getHelper("config").get("cluster.apiKey"),collectionName:this.getHelper("config").get("cluster.collectionName"),presetName:this.getHelper("config").get("cluster.presetName")}}#J(){let a=this.#I();return a.protocol+"://"+a.hostname}#K(){return{"X-TYPESENSE-API-KEY":this.#I().apiKey,"Content-Type":"application/json"}}#L(){let s=new AbortController,o=this.#K(),u={method:"GET",signal:s.signal,headers:o};return this.#z=s,u}#M(){let l=this.getSearchOptions(),c=new URLSearchParams(l);for(let[h,f]of c.entries())f||c.delete(h);return c}#N(){let d=this.#J(),p=this.#I(),g=this.#M(),v=new URLSearchParams(g).toString();return d+"/collections/"+p.collectionName+"/documents/search?"+v}#H($){let m=$.name,y=$.message;return this.setError(m,y),this}#O(w){this.#E=w;let b=w?.message;if(void 0!==b)throw this.setError("typesenseSearchRequestResponse",b),Error();return!1===w.ok&&alert("hmmm"),this.#P(),this}#G(x){let S=this.#O.bind(this);return x.json().then(S)}#P(){let E=this.getWebComponent(),C=E.getMutator("typesenseSearchResponse")||null;return null!==C&&(C&&C.apply(E,[this]),!0)}abort(){if(!0===this.#A)return!1;this.#A=!0;let e=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.abort");return this.setError("abort",e),this.#z.abort(),!0}fetch(){let e=this.#N(),t=this.#L();return this.#F(e,t)}getError(){return this.#B}getOptions(){return this.#C}getQuery(){return this.#D}getResponse(){return this.#E}getSearchOptions(){let e=this.#I(),t=Object.assign({},this.#C);for(let n in t.preset=e.presetName||null,t)null===t[n]&&delete t[n];return t}logFailedEvent(){let e=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.general");this.error(e);let t=this.getError();if("typesenseSearchRequestResponse"===t.key){let n=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived",t.message);if(this.error(n),!0===n.includes("Could not find a field named")){let r=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived.fieldTip");return this.error(r),!0}if(!0===n.includes("Forbidden - a valid `x-typesense-api-key` header must be sent.")){let i=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived.forbiddenTip");return this.error(i),!0}if(!0===n.includes("No search fields specified")){let a=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.responseReceived.queryTip");this.error(a)}return!0}return e=window.annexSearch.ErrorUtils.getMessage("typesenseSearchRequest.failed.unknown",t.message),this.error(e),!0===e.includes("Failed to fetch")&&(e=window.annexSearch.ErrorUtils.getMessage("loggingUtils.fetchFailed.tip"),this.error(e)),!0}setError(e,t){return null===this.#B&&(this.#B={},this.#B.key=e,this.#B.message=t,!0)}setOptions(e){return this.#C=Object.assign({},this.#C,this.getHelper("config").get("searchOptions"),e),!0}}}),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.BaseUtils=window.annexSearch.BaseUtils||class e{static #Q=!1;static setup(){return null!=document&&("complete"===document.readyState||"interactive"===document.readyState)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ClientUtils=window.annexSearch.ClientUtils||class e extends window.annexSearch.BaseUtils{static copyToClipboard(e){return window.navigator.clipboard.writeText(e).catch(function(){let e=window.annexSearch.ErrorUtils.getMessage("clientUtils.copyToClipboard.failed");this.error(e)})}static isMac(){return window.navigator.platform.toUpperCase().indexOf("MAC")>=0}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.DataUtils=window.annexSearch.DataUtils||class e extends window.annexSearch.BaseUtils{static deepMerge(e,t,n){function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){if(!Array.isArray(e)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return function e(t,a,s){if(s=s||[],!r(a))return t;for(let o in a){if(!Object.prototype.hasOwnProperty.call(a,o))continue;let u=a[o];if(void 0===u)continue;let l=s.concat(o),c=Object.prototype.hasOwnProperty.call(t,o),h=t[o];if(Array.isArray(u)){c&&i(h,u)||(c&&n&&n(l,h,u),t[o]=u.slice());continue}if(r(u)){r(h)||(c&&n&&n(l,h,u),t[o]={}),e(t[o],u,l);continue}c&&h===u||(c&&n&&n(l,h,u),t[o]=u)}return t}(e,t)}static findKeyInsensitiveValue(e,t){let n=Object.keys(e).find(function(e){return e.toLowerCase()===t.toLowerCase()});return n?e[n]:null}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ElementUtils=window.annexSearch.ElementUtils||class e extends window.annexSearch.BaseUtils{static #R={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:"data"};static #S(t){let n=Object.assign({},t.get());return n.config=t.getHelper("config").get(),n}static #T(r){let i=r.constructor.name;return(i=i.replace(/View$/,"")).charAt(0).toLowerCase()+i.slice(1)}static #U(a,s){s=s||window.annexSearch.FunctionUtils.getPassThrough();let o=this.#V(a),u=window.annexSearch.libs._.template(this.#W(o),this.#R),l=this.#S(a),c;return s(u.apply(a,[l]))}static #V(h,f=null){let d=h.getWebComponent(),p=this.#T(h),g=d.getHelper("config").get("templates")[p]||h.getMarkup();if("function"==typeof g){let v=this.#S(h);g=g.apply(h,[v])}return g||h.getMarkup()}static #W($){let m=$;return(m=m.replace(/\{\{\{([\s\S]+?)\}\}\}/g,"<%- $1 %>")).replace(/\{\{([\s\S]+?)\}\}/g,"<%= $1 %>")}static getVisibleElementsByTag(e){let t=document.getElementsByTagName(e),n=[];for(let r of t)!1!==this.visible(r)&&n.push(r);return n}static getVisibleWebComponents(){let e=this.getVisibleElementsByTag("annex-search-widget"),t=[];for(let n of e)!1!==n.showing()&&!0!==n.disabled()&&t.push(n);return t}static renderViewElement(e,t=null){let n=this.#U(e,t),r=new DOMParser().parseFromString(n,"text/html").body.firstElementChild;return r.uuid=window.annexSearch.StringUtils.generateUUID(),r}static visible(e){let t=e.getBoundingClientRect();return t.top<window.innerHeight&&t.bottom>0&&t.left<window.innerWidth&&t.right>0}static waitForAnimation(){return new Promise(function(e,t){window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){e()})})})}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ErrorUtils=window.annexSearch.ErrorUtils||class e extends window.annexSearch.BaseUtils{static #X={"clientUtils.copyToClipboard.failed":"Could not copy string to clipboard.","fieldHeaderView.loadMore.limitReached":"Possible infinite loop during search query fetching. Check your result view template is visible.","annexSearchWidget.container.null":"Inline web components must have a $container defined before mounting.","base.get.key.invalid":"Invalid {key} value passed to {base.get}; found {%0}","base.set.key.undefined":"Invalid {key} value passed to {base.set}; found {undefined}","base.set.value.undefined":"Invalid {value} value passed to {base.set}; found {undefined}","interactionUtils.disabled":"Interaction not valid while $annexSearchWidget is disabled.","interactionUtils.zeroRegistered":"No registered $annexSearchWidget elements found","interactionUtils.unknownId":"Interaction attempt references an unknown $annexSearchWidget id.","interactionUtils.multipleRegistered":'Multiple registered $annexSearchWidget elements found. Unable to determine which $annexSearchWidget is the target without a leader "id:" attribute value.',"loggingUtils.fetchFailed.tip":"Tip: Double check that {config.cluster.hostname} is defined and correct.","stylesheets.failedLoading":"Could not load stylesheets.","typesenseSearchRequest.abort":"Abort method called against {window.annexSearch.TypesenseSearchRequest}","typesenseHelper.options.q.empty":"Invalid {q} value; found {empty string}","typesenseHelper.options.q.null":"Invalid {q} value; found {null}","typesenseHelper.options.q.undefined":"Invalid {q} value; found {undefined}","typesenseHelper.searchOptions.query_by.null":"Invalid {config.searchOptions.query_by} value; found {null}. Either {config.searchOptions.query_by} or {config.cluster.presetName} needs to be defined.","typesenseHelper.searchOptions.query_by.undefined":"Invalid {config.searchOptions.query_by} value; found {undefined}. Either {config.searchOptions.query_by} or {config.cluster.presetName} needs to be defined.","typesenseSearchRequest.failed.general":"Could not complete Typesense search request.","typesenseSearchRequest.failed.responseReceived":"Typesense response: %0","typesenseSearchRequest.failed.responseReceived.fieldTip":"Tip: Double check that {config.searchOptions.query_by} is referencing valid collection fields.","typesenseSearchRequest.failed.responseReceived.forbiddenTip":"Tip: Double check that {config.cluster.apiKey} and {config.cluster.collectionName} are defined and correct.","typesenseSearchRequest.failed.responseReceived.queryTip":"Tip: Double check that, if defined, both {config.cluster.presetName} and/or {config.searchOptions.query_by} are correct.","typesenseSearchRequest.failed.unknown":"Error: %0"};static getMessage(e,...t){let n=this.#X[e];if(void 0===n)return null;for(let r=0;r<t.length;r++)n=n.replace(RegExp(`%${r}`,"g"),t[r]);return n}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.FunctionUtils=window.annexSearch.FunctionUtils||class e extends window.annexSearch.BaseUtils{static #Y=new Map;static debounce(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(function(){e.apply(this,r)},t)}}static getEmptyPromise(...e){return new Promise(function(t,n){t.apply(window,e)})}static getPassThrough(){return function(e){return e}}static limitReached(e,t,n){let r=Date.now();!1===this.#Y.has(e)&&this.#Y.set(e,[]);let i=this.#Y.get(e),a=r-n;for(;i.length>0&&i[0]<=a;)i.shift();return i.length>=t||(i.push(r),!1)}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.InteractionUtils=window.annexSearch.InteractionUtils||class e extends window.annexSearch.BaseUtils{static #Z=40;static #$(){let t=document.body||document.head||document.documentElement,n=this.#_.bind(this);return t.addEventListener("click",n),!0}static #aa(){let r=window,i=this.#ab.bind(this),a=this.#Z,s=window.annexSearch.FunctionUtils.debounce(i,a);return r.addEventListener("scroll",s),!0}static #ac(o){let u=o.split(":");return 0===u.length||1===u.length?null:(0,u[0])}static #ad(l){let c=l.split(":"),h=l;return 0===c.length||1===c.length?h:(c.shift(),h=c.join(""))}static #ae(f){let d=f.split(":"),p=f;return 0===d.length||1===d.length?p:(d.shift(),p=d.join(""))}static #af(g){let v=g.split(":");if(0===v.length||1===v.length)return null;let $=v[0];return window.annexSearch.AnnexSearch.getRegisteredById($)}static #ag(m){if(!1===this.#ah(m,"data-annex-search"))return!1;let y=m.target.getAttribute("data-annex-search"),w=this.#af(y)||window.annexSearch.AnnexSearch.getRegistered()[0],b=this.#ad(y);if("inline"===w.getConfig("layout")&&"clear"!==b&&"disable"!==b&&"enable"!==b&&"focus"!==b||!1===["clear","disable","enable","focus","hide","show","toggle"].includes(b))return!1;if("clear"===b){if(!0===w.disabled()){let x=window.annexSearch.ErrorUtils.getMessage("interactionUtils.disabled");return window.annexSearch.LoggingUtils.error(x),!1}return w.clear()}if("focus"===b){if(!0===w.disabled()){let S=window.annexSearch.ErrorUtils.getMessage("interactionUtils.disabled");return window.annexSearch.LoggingUtils.error(S),!1}return w.focus()}return"hide"===b?w.hide():"disable"===b?w.disable():"enable"===b?w.enable():"show"===b?w.show():"toggle"===b&&w.toggle()}static #ai(E){return E.target.constructor!==window.annexSearch.AnnexSearchWidgetWebComponent&&(window.annexSearch.AnnexSearch.setFocused(null),!1)}static #_(C){return!0===this.#ag(C)||!0===this.#ai(C)||!0===this.#aj(C)}static #aj(U){if(!1===this.#ah(U,"data-annex-search-query"))return!1;let R=U.target.getAttribute("data-annex-search-query"),V=this.#af(R)||window.annexSearch.AnnexSearch.getRegistered()[0];if(!0===V.disabled()){let B=window.annexSearch.ErrorUtils.getMessage("interactionUtils.disabled");return window.annexSearch.LoggingUtils.error(B),!1}let k=this.#ae(R);return V.show(),V.query(k),!0}static #ab(L){let A=document.activeElement||null;if(null===A){let T=window.annexSearch.ElementUtils.getVisibleWebComponents();if(0===T.length)return!1;let I=T[0];return!1!==I.getConfig("autoFocusOnScroll")&&"inline"===I.getConfig("layout")&&(I.focus(),!0)}if(!0===A.matches("button, input, select, textarea"))return!1;let W=window.annexSearch.ElementUtils.getVisibleWebComponents();if(0===W.length)return!1;let F=W[0];return!1!==F.getConfig("autoFocusOnScroll")&&"inline"===F.getConfig("layout")&&(F.focus(),!0)}static #ah(D,H){let q=D.target||null;if(null===q||!1===q.matches("["+H+"]")||!0===q.matches("annex-search-widget"))return!1;D.preventDefault();let O=window.annexSearch.AnnexSearch.getRegistered();if(0===O.length){let M=window.annexSearch.ErrorUtils.getMessage("interactionUtils.zeroRegistered");return window.annexSearch.LoggingUtils.error(M),!1}let j=q.getAttribute(H);if(null==j||""===(j=j.trim()))return!1;let K=this.#ac(j);if(null===K){if(1===O.length)return!0;let z=window.annexSearch.ErrorUtils.getMessage("interactionUtils.multipleRegistered");return window.annexSearch.LoggingUtils.error(z),!1}if(null===window.annexSearch.AnnexSearch.getRegisteredById(K)){let N=window.annexSearch.ErrorUtils.getMessage("interactionUtils.unknownId");return window.annexSearch.LoggingUtils.error(N),!1}return!0}static setup(){if(!0===super.setup())return this.#$(),this.#aa(),!0;let e=window.annexSearch.InteractionUtils.setup.bind(window.annexSearch.InteractionUtils);return document.addEventListener("DOMContentLoaded",e),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.KeyboardShortcutUtils=window.annexSearch.KeyboardShortcutUtils||class e extends window.annexSearch.BaseUtils{static #ak={documentCatchAll:!0,documentDelete:!0,documentPaste:!0,documentEscape:!0,documentKeyboardNavigation:!0,documentKeyboardShortcut:!0,documentSelectAll:!0,documentSlash:!0,fieldEnter:!0,fieldEscape:!0,resultCopy:!0};static #al(){let t=this.#am.bind(this);return document.addEventListener("paste",t),!0}static #an(){let n=this.#ao.bind(this);return document.addEventListener("keydown",n),!0}static #ap(){return window.annexSearch.AnnexSearch.getFocused()}static #aq(){return window.annexSearch.AnnexSearch.getRegistered()}static #ar(){return this.#ap().getView("root").getView("header.field")}static #as(){return this.#ap().getView("root").getView("body.results.found")}static #at(r){if(!1===this.#ak.documentCatchAll)return!1;let i=this.#ap();if(null===i||!1===i.showing()||!0===r.metaKey||!0===r.ctrlKey)return!1;let a=r.key;if(a.length>1||" "===a)return!1;let s=i.shadow.activeElement,o=this.#ar(),u=this.#as();return null===s?(o.focus(),o.clear(),o.nullifyLastTypesenseSearchResponse(),o.append(a),u.smoothScrollToTop(),u.resetFocusedIndex(),o.first("input").dispatchEvent(new Event("input",{bubbles:!0,shiftKey:r.shiftKey})),!0):!0!==s.matches("input")&&(o.focus(),o.clear(),o.nullifyLastTypesenseSearchResponse(),o.append(a),u.smoothScrollToTop(),u.resetFocusedIndex(),o.first("input").dispatchEvent(new Event("input",{bubbles:!0,shiftKey:r.shiftKey})),!0)}static #au(l){if(!1===this.#av(l,"resultCopy","c")||!1===this.#aw(l)||!0===l.shiftKey)return!1;let c=this.#ap().shadow.activeElement;if(null===c)return!1;let h=this.#as().getResults();for(let f of h)if(f.getElement()===c)return f.dispatchCopyEvent(l),!0;return!1}static #ax(d){if(!1===this.#av(d,"documentDelete","backspace"))return!1;let p=this.#ap().shadow.activeElement,g=this.#ar(),v=this.#as();return null===p?(g.focus(),g.decrement(),g.nullifyLastTypesenseSearchResponse(),v.smoothScrollToTop(),v.resetFocusedIndex(),g.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0):!0!==p.matches("input")&&(g.focus(),g.decrement(),g.nullifyLastTypesenseSearchResponse(),v.smoothScrollToTop(),v.resetFocusedIndex(),g.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0)}static #ay($){if(!1===this.#av($,"documentEscape","escape"))return!1;let m=this.#ap();if(!0===m.disabled())return m.hide(),!0;let y=m.shadow.activeElement;return null===y?(this.#ar().focus(),!0):!0!==y.matches("input")&&(this.#ar().focus(),!0)}static #az(w){if(!1===this.#av(w,"documentKeyboardNavigation",["tab","arrowdown","arrowup"])||!0===this.#aw())return!1;let b=w.key.toLowerCase();w.preventDefault();let x="previous";"arrowdown"===b&&(x="next"),"tab"===b&&!1===w.shiftKey&&(x="next");let S=this.#as();return"next"===x?(S.next(),!0):(S.previous()||this.#ap().getView("root").focus(),!0)}static #aA(E){if(!1===this.#ak.documentKeyboardShortcut)return!1;let C=this.#aq();for(let U of C){let R=U.getHelper("config").get("keyboardShortcut");if(null==R||"⌘"!==(R=R.trim().toLowerCase()).charAt(0)||!1===this.#aw(E))continue;let V;if(E.key.toLowerCase()===R.charAt(1)){if(E.preventDefault(),"inline"===U.getConfig("layout"))return U.focus(),!0;if(!0===U.showing()){if(!0===U.focused())return U.toggle(),window.annexSearch.AnnexSearch.getShowing().length>0&&window.annexSearch.AnnexSearch.getShowing()[0].focus(),!0;return U.getHelper("webComponentUI").setZIndex(),U.focus(),!0}return U.toggle(),!0}}return!1}static #am(B){if(0===this.#aq().length||null===this.#ap())return!1;let k=this.#ap();if(!1===k.showing()||!1===this.#ak.documentPaste)return!1;let L=B.clipboardData.getData("text");if(0===L.length||0===(L=L.trim()).length)return!1;let A=k.shadow.activeElement,T=this.#ar(),I=this.#as();return null===A?(T.focus(),T.clear(),T.nullifyLastTypesenseSearchResponse(),T.append(L),I.smoothScrollToTop(),I.resetFocusedIndex(),T.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0):!0!==A.matches("input")&&(T.focus(),T.clear(),T.nullifyLastTypesenseSearchResponse(),T.append(L),I.smoothScrollToTop(),I.resetFocusedIndex(),T.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0)}static #aB(W){if(!1===this.#av(W,"documentSelectAll","a")||!1===this.#aw(W))return!1;W.preventDefault();let F=this.#ar();return F.focus(),F.select(),!0}static #aC(D){if(!1===this.#av(D,"documentSlash","/"))return!1;let H=this.#ap().shadow.activeElement,q=this.#ar();return null===H?(q.focus(),!0):!0!==H.matches("input")&&(q.focus(),!0)}static #aD(O){if(!1===this.#av(O,"fieldEnter","enter"))return!1;if(!0===window.annexSearch.ClientUtils.isTouchDevice())return document.activeElement&&document.activeElement.blur(),!1;let M=this.#ap().shadow.activeElement;if(null===M)return!1;if(!0===M.matches("input")){let j=this.#as();if(null===j.getFocusedIndex()){let K=j.getResults()[0];return void 0!==K&&(O.stopPropagation(),K.focus(),K.simulateClick(O),!0)}}return!1}static #aE(z){if(!1===this.#av(z,"fieldEscape","escape"))return!1;let N=this.#ap(),P=N.shadow.activeElement;if(null===P)return!1;if(!0===P.matches("input")){z.preventDefault(),z.stopPropagation();let G=P.value.trim(),Z=this.#as();if(""===G)return N.hide(),!0;let Q=this.#ar();return Q.clear(),N.getHelper("webComponentUI").setQueryAttribute(),Q.nullifyLastTypesenseSearchResponse(),Z.clearResults(),Z.getView("root").setStateKey("idle"),N.getHelper("config").triggerCallback("results.idle"),N.dispatchCustomEvent("results.idle"),!0}return!1}static #ao(Y){return 0!==this.#aq().length&&(!0===this.#au(Y)||!0===this.#aA(Y)||!0===this.#az(Y)||!0===this.#ay(Y)||!0===this.#aE(Y)||!0===this.#aD(Y)||!0===this.#aC(Y)||!0===this.#aB(Y)||!0===this.#ax(Y)||(this.#at(Y),!0))}static #aw(){return!0==window.navigator.platform.toUpperCase().indexOf("MAC")>=0?!0===event.metaKey:!0===event.ctrlKey}static #av(J,X,ee){if(0===this.#aq().length)return!1;let et=this.#ap();if(null==et||!1===et.showing()||!1===this.#ak[X])return!1;ee=[].concat(ee);let en=J.key.toLowerCase();return!1!==ee.includes(en)}static setup(){if(!0===super.setup())return this.#al(),this.#an(),!0;let e=window.annexSearch.KeyboardShortcutUtils.setup.bind(window.annexSearch.KeyboardShortcutUtils);return document.addEventListener("DOMContentLoaded",e),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.LoggingUtils=window.annexSearch.LoggingUtils||class e extends window.annexSearch.BaseUtils{static #aF={error:"Annex Search"};static error(){let e="%c["+this.#aF.error+"]",t=Array.from(arguments);return t.unshift("color: red; font-weight: bold; font-family: monospace;"),t.unshift(e),window.console&&window.console.log&&window.console.log.apply(window,t),!0}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.SchemaUtils=window.annexSearch.SchemaUtils||class e extends window.annexSearch.BaseUtils{static #aG={"auto-v0.1.0":{result:this.#aH()},"sku-v0.1.0":{result:`
                        <div data-view-name="ResultFoundResultsBodyView" class="clearfix" part="result">
                            <%
                                let imageUrl = data.hit.document.imageUrl || '',
                                    validImage = window.annexSearch.StringUtils.validURL(imageUrl);
                                if (validImage === true) {
                            %>
                                <div class="image" part="result-image">
                                    <img src="<%- (imageUrl) %>" part="result-image-img" />
                                </div>
                            <%
                                }
                            %>
                            <div class="content" part="result-content">
                                <div class="title" part="result-content-title">{{{data?.hit?.highlight?.name?.snippet || data?.hit?.document?.name || '(unknown name)'}}}</div>
                                <div class="body" part="result-content-body">{{{data?.hit?.highlight?.description?.snippet || data?.hit?.document?.description || '(unknown description)'}}}</div>
                                <div class="price badge" part="result-content-price">\${{{data?.hit?.document?.price.toLocaleString() || '(unknown price)'}}}</div>
                            </div>
                        </div>`},"webResource-v0.1.0":{result:`
                    <a data-view-name="ResultFoundResultsBodyView" href="{{data.hit.document.uri}}" class="clearfix" part="result">
                        <%
                            let imageUrl = data.hit.document.imageUrl || '',
                                validImage = window.annexSearch.StringUtils.validURL(imageUrl);
                            if (validImage === true) {
                        %>
                            <div class="image" part="result-content-image">
                                <img src="<%- (imageUrl) %>" part="result-content-image-img" />
                            </div>
                        <%
                            }
                        %>
                        <div class="content" part="result-content">
                            <div class="title" part="result-content-title">{{{data?.hit?.highlight?.title?.snippet || data?.hit?.document?.title || '(unknown title)'}}}</div>
                            <div class="body" part="result-content-body">{{{data?.hit?.highlight?.body?.snippet || data?.hit?.document?.body || '(unknown body)'}}}</div>
                            <div class="uri truncate" part="result-content-uri">{{data.hit.document.uri}}</div>
                        </div>
                    </a>`}};static #aH(){return function(e){e.hit;let t,n,r,i;for(let a of["asset","assetUrl","assetUrl","image_path","imagePath","img_path","imgPath","image","imageUri","imageUrl","img","imgUri","imgUrl","openGraph","openGraphUri","openGraphUrl","openGraphThumb","openGraphThumbUri","openGraphThumbUrl","openGraphImage","openGraphImageUri","openGraphImageUrl","photo","photoUri","photoUrl","picture","pictureUri","pictureUrl","thumb","thumbUri","thumbUrl","thumbnail","thumbnailUri","thumbnailUrl",])t=t||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,a)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,a)||null;for(let s of["articleTitle","caption","contentTitle","displayName","documentTitle","header","heading","headline","label","listingTitle","metaTitle","name","nameText","pageTitle","shortTitle","subject","term","title","titleText",])n=n||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,s)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,s)||null;for(let o of["article","articleBody","body","content","description","details","excerpt","mainText","message","note","paragraph","post","snippet","story","summary","text",])r=r||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,o)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,o)||null;for(let u of["canonical","canonicalUri","canonicalUrl","endpoint","endpointUri","endpointUrl","fullUri","fullUrl","href","link","linkUri","linkUrl","pageUri","pageUrl","permalink","permalinkUri","permalinkUrl","redirectUri","redirectUrl","sourceUri","sourceUrl","targetUri","targetUrl","uri","url",])i=i||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.highlight,u)?.snippet||window.annexSearch.DataUtils.findKeyInsensitiveValue(e?.hit?.document,u)||null;return`
                <%
                    let validUri = window.annexSearch.StringUtils.validURL('`+i+`');
                    if (validUri === true) {
                %>
                    <a data-view-name="ResultFoundResultsBodyView" class="clearfix" part="result" href="`+i+`">
                <% } else { %>
                    <div data-view-name="ResultFoundResultsBodyView" class="clearfix" part="result">
                <% } %>
                    <%
                        let validImage = window.annexSearch.StringUtils.validURL('`+t+`');
                        if (validImage === true) {
                    %>
                        <div class="image" part="result-image">
                            <img src="`+t+`" part="result-image-img" />
                        </div>
                    <% } %>
                    <div class="content" part="result-content">
                        <div class="title" part="result-content-title">`+(n||"(no title found)")+`</div>
                        <div class="body" part="result-content-body">`+(r||"(no body found)")+`</div>
                        <%
                            if (validUri === true) {
                                // let uri = 
                                // uri = uri.replace(/^https?:///, '');
                                // replace(/^https?://(www.)?/, '');
                        %>
                            <div class="uri truncate" part="result-content-uri">`+i+`</div>
                        <% } %>
                    </div>
                <% if (validUri === true) { %>
                    </a>
                <% } else { %>
                    </div>
                <% } %>`}}static getMarkup(e,t){let n=t.getWebComponent().getHelper("config").get("schemaKey");return void 0===this.#aG[n]?null:(0,this.#aG[n][e])}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.StringUtils=window.annexSearch.StringUtils||class e extends window.annexSearch.BaseUtils{static generateUUID(){let e="",t,n;for(t=0;t<36;t++)8===t||13===t||18===t||23===t?e+="-":14===t?e+="4":19===t?e+=(3&(n=16*Math.random()|0)|8).toString(16):e+=(n=16*Math.random()|0).toString(16);return e}static setup(){return!0}static validURL(e){return/^(https?:\/\/)?([\w\-]+\.)+[a-z]{2,}(:\d+)?(\/\S*)?$/i.test(e)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.TimerUtils=window.annexSearch.TimerUtils||class e extends window.annexSearch.BaseUtils{static #aI=[];static build(e,t){let n=t.seconds,r=new window.annexSearch.TimerView(e,n),i=e.shadow.querySelector("div.content");return this.#aI.push(r),r.mount(i),r}static remove(e){let t=this.#aI.indexOf(e);return -1!==t&&(this.#aI.splice(t,1),!0)}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.ToastUtils=window.annexSearch.ToastUtils||class e extends window.annexSearch.BaseUtils{static #aJ=5e3;static #aK=[];static build(e,t){let n=t.title,r=t.message,i=new window.annexSearch.ToastView(e,n,r),a=e.shadow.querySelector("div.content");return this.#aK.push(i),i.mount(a),i}static get(e){let t=[];for(let n of this.#aK)n.getWebComponent()===e&&t.push(n);return t}static getDuration(){return this.#aJ}static hideAll(e){let t=this.get(e);for(let n of t)n.hide();return!0}static remove(e){let t=this.#aK.indexOf(e);return -1!==t&&(this.#aK.splice(t,1),!0)}static setup(){return!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseUtils"],function(){window.annexSearch.VendorUtils=window.annexSearch.VendorUtils||class e extends window.annexSearch.BaseUtils{static #aL(){let t=_.noConflict();return window.annexSearch.libs=window.annexSearch.libs||{},window.annexSearch.libs._=t,!0}static setup(){return this.#aL(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.Base"],function(){window.annexSearch.BaseView=window.annexSearch.BaseView||class e extends window.annexSearch.Base{_$element=null;_data={views:{}};constructor(e){super(e),this._$element=document.createElement("template")}click(e){return this.event("click",e),!0}event(e,t,n=!1){return this._$element.addEventListener(e,t,{once:n}),!0}find(e){return Array.from(this._$element.querySelectorAll(e))}first(e){return this._$element.querySelector(e)}getElement(){return this._$element}getMarkup(){return this._markup}mount(e){this.render();let t=this._$element;return e.appendChild(t),!0}once(e,t){return this.event(e,t,!0),!0}removeAttribute(e){return this._$element.removeAttribute(e),!0}render(e=null){let t=window.annexSearch.ElementUtils.renderViewElement(this,e);return this._$element.replaceWith(t),this._$element=t,!0}setAttribute(e,t){return this._$element.setAttribute(e,t),!0}setView(e,t){let n=this.get("views")||{};return n[e]=t,this.set("views",n),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.BodyView=window.annexSearch.BodyView||class e extends window.annexSearch.BaseView{_markup=`
<div data-view-name="BodyView" part="body">
</div>`;#aM(){let t=new window.annexSearch.ErrorBodyView(this._$annexSearchWidget),n=this._$element;return this.setView("error",t),t.mount(n),!0}#aN(){let r=new window.annexSearch.IdleBodyView(this._$annexSearchWidget),i=this._$element;return this.setView("idle",r),r.mount(i),!0}#aO(){let a=new window.annexSearch.ResultsBodyView(this._$annexSearchWidget),s=this._$element;return this.setView("results",a),a.mount(s),!0}mount(e){return super.mount(e),this.#aM(),this.#aN(),this.#aO(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ErrorBodyView=window.annexSearch.ErrorBodyView||class e extends window.annexSearch.BaseView{_markup=`
<div data-view-name="ErrorBodyView" part="error">
    <%
        let message = data?.config?.copy?.error?.message ?? 'Something went wrong...';
        message = message.trim();
    %>
    <div class="graphic" part="error-graphic"></div>
    <div class="message" part="error-message"><%= (message) %></div>
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.IdleBodyView=window.annexSearch.IdleBodyView||class e extends window.annexSearch.BaseView{#aP=[];_markup=`
<div data-view-name="IdleBodyView" part="idle">
    <%
        let message = data?.config?.copy?.idle?.message ?? 'Start typing to begin your search...';
        message = message.trim();
    %>
    <div class="chips">
        <div class="label"><%- (data?.config?.copy?.idle?.chips) %></div>
        <div class="list"></div>
    </div>
    <div class="graphic" part="idle-graphic"></div>
    <div class="message" part="idle-message"><%- (message) %></div>
</div>`;#aQ(t){let n=new window.annexSearch.ChipView(this._$annexSearchWidget),r=this.first(".chips .list");return n.set("chip",t),this.#aP.push(n),n.mount(r),!0}#aR(){let i=this.getHelper("config").get("chips.idle")||[];if(0===i.length)return this.first(".chips").remove(),!1;for(var a of i)this.#aQ(a);return!0}render(){return super.render(),this.#aR(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.EmptyResultsBodyView=window.annexSearch.EmptyResultsBodyView||class e extends window.annexSearch.BaseView{_markup=`
<div data-view-name="EmptyResultsBodyView" part="empty">
    <%
        let message = data?.config?.copy?.empty?.message ?? 'Something went wrong...';
        message = message.trim();
    %>
    <div class="graphic" part="empty-graphic"></div>
    <div class="message" part="empty-message"><%- (message) %></div>
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.FoundResultsBodyView=window.annexSearch.FoundResultsBodyView||class e extends window.annexSearch.BaseView{#aS=null;#aT=[];#aU=60;#aV=.65;_markup=`
<div data-view-name="FoundResultsBodyView" part="found">
</div>`;#aW(){return this.#aX(),!0}#aX(){let t=this.#aY.bind(this),n=this.#aU;return window.annexSearch.FunctionUtils.debounce(t,n),this.event("scroll",t),!0}#aY(r){let i;return!(this._$element.scrollTop+this._$element.clientHeight<this._$element.scrollHeight*this.#aV)&&(this.getView("root.header.field").loadMore(),!0)}#aZ(a){let s=new window.annexSearch.ResultFoundResultsBodyView(this._$annexSearchWidget),o=this._$element;return s.set("hit",a),this.#aT.push(s),s.mount(o),!0}clearFocused(){let e=this.find(".focused");for(let t of e)t.classList.remove("focused");return!0}clearResults(){for(this.#aT=[];this._$element.firstChild;)this._$element.removeChild(this._$element.firstChild);return this.scrollToTop(),!0}containsScrollbar(){let e=this._$element;return e.scrollHeight>e.clientHeight}mountResults(e){let t=e.hits||[];if(0===t.length)return!1;for(var n of t)this.#aZ(n);return!0}getFocusedIndex(){return this.#aS}getResults(){return this.#aT}next(){if(0===this.#aT.length)return!1;if(null===this.#aS)return this.#aS=0,this.#aT[this.#aS].focus(),!0;return this.#aS!==this.#aT.length-1&&(++this.#aS,this.#aT[this.#aS].focus(),!0)}previous(){return 0!==this.#aT.length&&null!==this.#aS&&(0===this.#aS?(this.#aS=null,!1):(--this.#aS,this.#aT[this.#aS].focus(),!0))}resetFocusedIndex(){return this.setFocusedIndex(null)}render(){return super.render(),this.#aW(),!0}scrollToTop(){let e=this._$element;return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.scrollTop=0}),!0}setFocusedIndex(e){return this.#aS=e,!0}setFocusedIndexByResultView(e){let t=this.#aT.indexOf(e);return this.setFocusedIndex(t),!0}smoothScrollToTop(){let e=this._$element;return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.scrollTo({top:0,behavior:"smooth"})}),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ResultFoundResultsBodyView=window.annexSearch.ResultFoundResultsBodyView||class e extends window.annexSearch.BaseView{_markup=`
<a data-view-name="ResultFoundResultsBodyView" part="result">
    <div class="content" part="result-content">
        <div class="title" part="result-content-title">(no valid template defined)</div>
        <div class="body" part="result-content-body">(no valid template defined)</div>
        <div class="uri truncate" part="result-content-uri">(no valid template defined)</div>
    </div>
</a>`;constructor(e){super(e),this._markup=window.annexSearch.SchemaUtils.getMarkup("result",this)||this._markup}#a$(){let t=this.#a_.bind(this);return this.click(t),!0}#aW(){return this.#a$(),this.#a0(),this.#a1(),this.#an(),!0}#a0(){let n=this.#a2.bind(this);return this.event("focus",n),!0}#a1(){let r=this.first("img");if(null===r)return!1;let i=this.#a3.bind(this);return r.addEventListener("load",i),!0}#an(){if(!0===this._$element.hasAttribute("href"))return!1;let a=this.#ao.bind(this);return this.event("keydown",a),!0}#a_(s){let o=this.get("hit"),u=this._$element,l={$result:u,event:s,hit:o};return this.getWebComponent().getHelper("config").triggerCallback("result.click",l),this.getWebComponent().dispatchCustomEvent("result.click",l),this.getView("root.body.results.found").setFocusedIndexByResultView(this),!0}#a2(c){let h=this.get("hit"),f=this._$element,d={$result:f,event:c,hit:h};return this.getWebComponent().getHelper("config").triggerCallback("result.focus",d),this.getWebComponent().dispatchCustomEvent("result.focus",d),this.getView("root.body.results.found").setFocusedIndexByResultView(this),this.getView("root.body.results.found").clearFocused(),this._$element.classList.add("focused"),!0}#a3(p){return this.first("img").parentNode.classList.add("loaded"),!0}#ao(g){let v=g.key;return"enter"===(v=v.toLowerCase())&&(this.simulateClick(g),!0)}#a4($){return $=this.getHelper("typesense").replaceHightlightTags($)}#a5(){let m=this.getView("root.body.results.found").getResults().indexOf(this);return this.setAttribute("data-index",m),!0}#a6(){return!0!==this._$element.hasAttribute("href")&&(this.setAttribute("tabindex",0),!0)}dispatchCopyEvent(e){let t=this.get("hit"),n=this._$element,r={$result:n,event:e,hit:t};return this.getWebComponent().getHelper("config").triggerCallback("result.copy",r),this.getWebComponent().dispatchCustomEvent("result.copy",r),this.getView("root.body.results.found").setFocusedIndexByResultView(this),!0}focus(){this._$element.focus();let e=this._$element,t=this.getView("root.body.results.found").getElement();return t.scrollTo({top:e.offsetTop-t.offsetTop-t.clientHeight/2,behavior:"smooth"}),!0}render(){let e=this.#a4.bind(this);return super.render(e),this.#a5(),this.#a6(),this.#aW(),!0}simulateClick(e){let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey});return this._$element.dispatchEvent(t),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ResultsBodyView=window.annexSearch.ResultsBodyView||class e extends window.annexSearch.BaseView{_markup=`
<div data-view-name="ResultsBodyView" part="results">
</div>`;#a7(){let t=new window.annexSearch.EmptyResultsBodyView(this._$annexSearchWidget),n=this._$element;return this.setView("empty",t),t.mount(n),!0}#a8(){let r=new window.annexSearch.FoundResultsBodyView(this._$annexSearchWidget),i=this._$element;return this.setView("found",r),r.mount(i),!0}mount(e){return super.mount(e),this.#a7(),this.#a8(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ChipView=window.annexSearch.ChipView||class e extends window.annexSearch.BaseView{_markup=`
<a data-view-name="ChipView" href="#" part="chip">
    <span class="label" part-chip-label"><%= (data.chip.label) %></span>
</a>`;constructor(e,t){super(e)}#a$(){let t=this.#a_.bind(this);return this.click(t),!0}#aW(){return this.#a$(),!0}#a_(n){n.preventDefault();let r=this.get("chip").query;return this.getWebComponent().query(r),!0}render(){return super.render(),this.#aW(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.TimerView=window.annexSearch.TimerView||class e extends window.annexSearch.BaseView{#a9=!1;#ba=null;_markup=`
<div data-view-name="TimerView" part="timer">
    <div class="remaining" part="timer-remaining"><%= (data.remaining) %></div>
</div>`;constructor(e,t){super(e),this.set("seconds",t),this.set("remaining",t),this.#bb()}#bb(){let t=this.render.bind(this);return this.addCustomEventListener("data.set.remaining",t),!0}#bc(){return this._$element.remove(),window.annexSearch.TimerUtils.remove(this),!0}#bd(){if(0===this.get("remaining"))return this.hide(),!0;1===this.get("remaining")&&this.dispatchCustomEvent("complete");let n=this.get("remaining");return n-=1,this.set("remaining",n),!0}#be(){let r=setInterval(this.#bd.bind(this),1e3);return this.#ba=r,!0}hide(){this.#a9=!1,this._$element.classList.remove("visible"),clearTimeout(this.#ba);var e=this.#bc.bind(this);return this.once("transitionend",e),!0}render(){return super.render(),!0===this.#a9&&this._$element.classList.add("visible"),!0}show(){if(!0===this.#a9)return!1;this.#a9=!0,this.#be();let e=this._$element;window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.classList.add("visible")});let t=this;return new Promise(function(e,n){t.addCustomEventListener("complete",e,!0)})}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.ToastView=window.annexSearch.ToastView||class e extends window.annexSearch.BaseView{#aJ=window.annexSearch.ToastUtils.getDuration();#bf=!0;#a9=!1;#bg=null;_markup=`
<div data-view-name="ToastView" part="toast">
    <div class="title" part="toast-title"><%= (data?.title ?? '(no title)') %></div>
    <div class="message" part="toast-message"><%= (data?.message ?? '(no message)') %></div>
</div>`;constructor(e,t=null,n=null){super(e),this.set("title",t),this.set("message",n)}#a$(){let t=this.#a_.bind(this);return this.click(t),!0}#aW(){return this.#a$(),this.addCustomEventListener("data.set.message",this.render.bind(this)),this.addCustomEventListener("data.set.title",this.render.bind(this)),!0}#bc(){return this._$element.remove(),window.annexSearch.ToastUtils.remove(this),!0}#a_(n){return!1!==this.#bf&&(this.hide(),!0)}#bh(){let r=this.getWebComponent(),i=window.annexSearch.ToastUtils.get(r);for(let a of i)a!==this&&a.hide();return!0}#bi(){if(null===this.#aJ)return!1;let s,o=setTimeout(this.hide.bind(this),this.#aJ);return this.#bg=o,!0}hide(){this.#a9=!1,this._$element.classList.remove("visible"),clearTimeout(this.#bg);var e=this.#bc.bind(this);return this.once("transitionend",e),!0}render(){return super.render(),!0===this.#a9&&this._$element.classList.add("visible"),this.#aW(),!0}setDuration(e=null){return this.#aJ=e,!0}setUnescapable(){return this.#bf=!1,!0}show(){if(!0===this.#a9)return!1;this.#a9=!0,this.#bh(),this.#bi();let e=this._$element;return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.classList.add("visible")}),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.BrandingBarFooterView=window.annexSearch.BrandingBarFooterView||class e extends window.annexSearch.BaseView{_markup=`
<div data-view-name="BrandingBarFooterView" part="brandingBar">
    Built with <a href="https://annexsearch.com/" target="_blank" part="brandingBar-anchor">Annex</a>
    <!--Powered by <a href="https://annexsearch.com/" target="_blank">Annex</a>-->
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.FooterView=window.annexSearch.FooterView||class e extends window.annexSearch.BaseView{_markup=`
<div class="clearfix" data-view-name="FooterView" part="footer">
</div>`;#bj(){let t=new window.annexSearch.BrandingBarFooterView(this._$annexSearchWidget),n=this._$element;return this.setView("brandingBar",t),t.mount(n),!0}#bk(){let r=new window.annexSearch.StatusBarFooterView(this._$annexSearchWidget),i=this._$element;return this.setView("statusBar",r),r.mount(i),!0}mount(e){return super.mount(e),this.#bj(),this.#bk(),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.StatusBarFooterView=window.annexSearch.StatusBarFooterView||class e extends window.annexSearch.BaseView{_markup=`
<div data-view-name="StatusBarFooterView" part="statusBar">
    <%
        let val = data.config.copy.statusBar.message;
    %>
    <div class="message truncate" part="statusBar-message"><%- (val) %></div>
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.FieldHeaderView=window.annexSearch.FieldHeaderView||class e extends window.annexSearch.BaseView{#bl=null;#bm=!1;#bn=60;#bg=null;_markup=`
<div class="clearfix" data-view-name="FieldHeaderView" part="field">
    <%
        let label = data?.config?.keyboardShortcut ?? '';
        label = label.toUpperCase();
        let placeholder = data?.config?.copy?.field?.placeholder ?? 'Search...';
    %>
    <div class="label" part="field-label"><%- (label) %></div>
    <div class="clear icon icon-plus-circle icon-size-14" part="field-clear"></div>
    <div class="input" part="field-input">
        <input type="search" name="query" id="query" spellcheck="false" autocapitalize="off" autocorrect="off" placeholder="<%- (placeholder) %>" part="field-input-input" />
    </div>
</div>`;#bo(){let t=this.first(".clear"),n=this.#bp.bind(this);return t.addEventListener("click",n),!0}#aW(){return this.#bo(),this.#bq(),!0}#bq(){let r=this.first("input"),i=this.#br.bind(this);return r.addEventListener("input",i),!0}#bp(a){return a.preventDefault(),this.clear(),this._$annexSearchWidget.getHelper("webComponentUI").setQueryAttribute(),this.nullifyLastTypesenseSearchResponse(),this.getView("root.body.results.found").clearResults(),this.getView("root.body.results.found").getView("root").setStateKey("idle"),this._$annexSearchWidget.getHelper("config").triggerCallback("results.idle"),this._$annexSearchWidget.dispatchCustomEvent("results.idle"),!0}#bs(s,o){let u=o.getError();if("abort"===u.key)return!1;let l={error:u};this.getWebComponent().getHelper("config").triggerCallback("results.error",l),this.getWebComponent().dispatchCustomEvent("results.error",l);this.getView("root.header").hideSpinner();let c=o.getResponse();return this.#bl=c,this.getView("root").setStateKey("error"),o.logFailedEvent(),!0}#br(h){let f=this.first("input").value.trim();return(this.getWebComponent().getHelper("webComponentUI").setQueryAttribute(),""===f)?(this.getHelper("typesense").abortLastRequest(),this.getView("root.header").hideSpinner(),this.nullifyLastTypesenseSearchResponse(),this.clear(),this.getView("root").setStateKey("idle"),this.getView("root.body.results.found").clearResults(),this.getWebComponent().getHelper("config").triggerCallback("results.idle"),this.getWebComponent().dispatchCustomEvent("results.idle"),!1):f!==this.#bl?.request_params?.q&&(this.nullifyLastTypesenseSearchResponse(),this.#bm=!1,this.getView("root.body.results.found").scrollToTop(),clearTimeout(this.#bg),this.#bg=setTimeout(this.#bt.bind(this),this.#bn),!0)}#bu(d,p){let g=p.getResponse(),v={response:g};return this.getWebComponent().getHelper("config").triggerCallback("results.loaded",v),this.getWebComponent().dispatchCustomEvent("results.loaded",v),this.#bl=g,this.#bm=!1,0!==g.hits.length&&(this.getView("root.body.results.found").mountResults(g),this.#bv(),!0)}#bw($,m){let y=m.getResponse();if(!0===this.#bm){let w=this.#bu($,m);return!0===this.getView("root.body.results.found").containsScrollbar()||(this.loadMore(),w)}if(this.#bl=y,this.getView("root.body.results.found").clearResults(),0===y.hits.length)return this.getWebComponent().getHelper("config").triggerCallback("results.empty"),this.getWebComponent().dispatchCustomEvent("results.empty"),this.getView("root").setStateKey("empty"),!1;let b={response:y};this.getWebComponent().getHelper("config").triggerCallback("results.loaded",b),this.getWebComponent().dispatchCustomEvent("results.loaded",b),this.getView("root").setStateKey("results");let x=this.getView("root.body.results.found");return x.mountResults(y),x.resetFocusedIndex(),this.#bv(),!0===x.containsScrollbar()||(this.loadMore(),!0)}#bx(S={},E){if(null===E.getError())return this.getView("root.header").hideSpinner(),this.#bw(S,E);return this.#bs(S,E)}#bt(C={}){this.getView("root.header").showSpinner();let U=this.first("input").value.trim(),R=this.#bx.bind(this,C);return this.getHelper("typesense").search(U,C).then(R)}#bv(){let V=this.#bl,B=this.getView("root.header.metaBar");return B.set("typesenseSearchResponse",V),B.render(),!0}append(e){let t=this.first("input");return t.value=t.value+e,!0}blur(){return this.first("input").blur(),!0}clear(){return this.first("input").value="",!0}nullifyLastTypesenseSearchResponse(){return this.#bl=null,!0}decrement(){let e=this.first("input");return e.value=e.value.slice(0,-1),!0}focus(){if(!0===this._$annexSearchWidget.disabled())return!1;this.getView("root.body.results.found").clearFocused();let e=this.first("input");return window.annexSearch.ElementUtils.waitForAnimation().then(function(){return!1!==window.annexSearch.ElementUtils.visible(e)&&(e.focus(),!0)}),!0}loadMore(){if(!0===this.#bm)return!1;if(!0===window.annexSearch.FunctionUtils.limitReached(this.loadMore,10,7500)){let e=window.annexSearch.ErrorUtils.getMessage("fieldHeaderView.loadMore.limitReached");return this.error(e),this.getView("root").setStateKey("error"),this.getWebComponent().disable(),!1}this.#bm=!0;if(this.getView("root.body.results.found").getResults().length>=this.#bl.found)return!1;let t=this.#bl?.page??null;if(null===t)return!1;t=parseInt(t,10),++t;let n={};return n.page=t,this.#bt(n),!0}render(){return super.render(),this.#aW(),!0}select(){let e=this.first("input");return window.annexSearch.ElementUtils.waitForAnimation().then(function(){e.select()}),!0}setCaret(){let e=this.first("input"),t=e.value;return e.setSelectionRange(t.length,t.length),!0}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.HeaderView=window.annexSearch.HeaderView||class e extends window.annexSearch.BaseView{#by=!1;_markup=`
<div data-view-name="HeaderView" part="header">
    <div class="hide icon icon-plus icon-size-14" part="header-hide"></div>
    <div class="spinner spinning icon icon-spinner" part="metaBar-spinner"></div>
</div>`;#a$(){let t=this.#a_.bind(this);return this.click(t),!0}#aW(){return this.#a$(),this.#bz(),!0}#bz(){let n=this.first(".hide"),r=this.#bA.bind(this);return n.addEventListener("click",r),!0}#a_(i){let a;return i.target!==this.first(".hide")&&(this.focus(),!0)}#bA(s){return this.getWebComponent().hide(),!1}#bB(){let o=new window.annexSearch.FieldHeaderView(this._$annexSearchWidget),u=this._$element;return this.setView("field",o),o.mount(u),!0}#bC(){let l=new window.annexSearch.MetaBarHeaderView(this._$annexSearchWidget),c=this._$element;return this.setView("metaBar",l),l.mount(c),!0}blur(){return this.getView("field").blur()}focus(){return this.getView("field").focus()}mount(e){return super.mount(e),this.#bB(),this.#bC(),!0}hideSpinner(){return!1!==this.#by&&(this.#by=!1,this.getView("root").setAttribute("data-searching","0"),!0)}render(){return super.render(),this.#aW(),!0}showSpinner(){return!0!==this.#by&&(this.#by=!0,this.getView("root").setAttribute("data-searching","1"),!0)}}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.MetaBarHeaderView=window.annexSearch.MetaBarHeaderView||class e extends window.annexSearch.BaseView{_markup=`
        <%
            let showing = 0;
            if (data.typesenseSearchResponse) {
                showing = (data.typesenseSearchResponse.page - 1) * (data.typesenseSearchResponse.request_params.per_page) + data.typesenseSearchResponse.hits.length;
            }
        %>
<div data-view-name="MetaBarHeaderView" part="metaBar">
    Showing
    <span class="showing" part="metaBar-showing"><%- showing.toLocaleString() %></span> of
    <span class="found" part="metaBar-found"><%- data?.typesenseSearchResponse?.found.toLocaleString() ?? 0 %></span>
    matching results
    (<span class="duration" part="metaBar-duration"><%- data?.typesenseSearchResponse?.search_time_ms.toLocaleString() ?? 0 %>ms</span>)
</div>`}}),window.annexSearch.DependencyLoader.push(["window.annexSearch.BaseView"],function(){window.annexSearch.RootView=window.annexSearch.RootView||class e extends window.annexSearch.BaseView{_markup=`
<div data-view-name="RootView" data-state-key="idle" part="root">
    <div class="overlay" part="root-overlay"></div>
    <div class="content" part="root-content">
        <div class="disabled" part="root-content-disabled"></div>
    </div>
</div>`;#aW(){return this.#a$(),this.#bD(),this.#bE(),!0}#a$(){let t=this.#a_.bind(this);return this.click(t),!0}#bD(){let n=this.#bF.bind(this);return this.event("focusin",n),!0}#bE(){let r=this.#bG.bind(this);return this.click(r),!0}#a_(i){let a=this.getWebComponent();return window.annexSearch.AnnexSearch.setFocused(a),a.focus(),!0}#bF(s){let o=this.getWebComponent();return window.annexSearch.AnnexSearch.setFocused(o),!0}#bG(u){if(!1===this.getHelper("config").get("showOverlay"))return!1;let l=u.target;return null!=l&&!0===l.matches(".overlay")&&(this._$annexSearchWidget.hide(),!0)}#bH(){let c=new window.annexSearch.BodyView(this._$annexSearchWidget),h=this.first(".content");return this.setView("body",c),c.mount(h),!0}#bI(){let f=new window.annexSearch.FooterView(this._$annexSearchWidget),d=this.first(".content");return this.setView("footer",f),f.mount(d),!0}#bJ(){let p=new window.annexSearch.HeaderView(this._$annexSearchWidget),g=this.first(".content");return this.setView("header",p),p.mount(g),!0}blur(){return this.getView("header").blur()}focus(){return this.getView("header").focus()}mount(e){return super.mount(e),this.#bJ(),this.#bH(),this.#bI(),this._$annexSearchWidget.getHelper("config").triggerCallback("results.idle"),this._$annexSearchWidget.dispatchCustomEvent("results.idle"),!0}render(){return super.render(),this.#aW(),!0}setStateKey(e){return this._$element.setAttribute("data-state-key",e),!0}}}),window.annexSearch.DependencyLoader.push([],function(){window.annexSearch.AnnexSearchWidgetWebComponent=window.annexSearch.AnnexSearchWidgetWebComponent||class e extends HTMLElement{#bK=!1;#bL={};#bM=!1;#bN={};#bO=!1;#a9=!1;#bP={};constructor(){super(),this.#bQ(),this.#bR(),this.#bS()}#bT(t=null){if(t=t||this.getConfig("$container")||null,"inline"===this.getConfig("layout")){if(null===t){let n=window.annexSearch.ErrorUtils.getMessage("annexSearchWidget.container.null");return this.#bL.webComponentUI.error(n),null}return t}return null===t&&(t=document.body||document.head||document.documentElement),t}#bU(){return this.#bM=!0,this.#bO=!0,this.dispatchCustomEvent("ready"),this}#bV(){try{this.#bW(),this.#bL.webComponentUI.setupConfigHelperCustomEventListeners(),this.#bL.webComponentUI.setAttributes(),this.#bL.webComponentUI.autoShow()}catch(r){!0===this.#bL.config.get("debug")&&(console.log(r),console.trace())}let i=this.#bU.bind(this);return window.annexSearch.ElementUtils.waitForAnimation().then(i)}#bW(){let a=new window.annexSearch.RootView(this),s=this.shadow;return this.#bP.root=a,this.#bP.root.mount(s),!0}#bQ(){return window.annexSearch.AnnexSearch.register(this),!0}#bX(){let o=this.#bV.bind(this),u=this;return this.#bL.config.loadStylesheets(this).then(o).catch(function(e){return u})}#bR(){return this.#bL.config=new window.annexSearch.ConfigHelper(this),this.#bL.typesense=new window.annexSearch.TypesenseHelper(this),this.#bL.webComponentUI=new window.annexSearch.WebComponentUIHelper(this),!0}#bS(){return this.shadow=this.attachShadow({mode:"closed"}),!0}clear(){let e=this.getView("root").getView("root.header.field"),t=this.getView("root").getView("body.results.found");return e.focus(),e.clear(),e.nullifyLastTypesenseSearchResponse(),t.resetFocusedIndex(),e.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0}disable(){return!0!==this.#bK&&(this.#bK=!0,this.#bL.webComponentUI.disable(),!0)}disabled(){return this.#bK}dispatchCustomEvent(e,t={}){t.$annexSearchWidget=this;let n=new CustomEvent(e,{detail:t});return this.dispatchEvent(n),!0}enable(){return!1!==this.#bK&&(this.#bK=!1,this.#bL.webComponentUI.enable(),!0)}focus(){return!0!==this.focused()&&this.getView("root").focus()}focused(){return window.annexSearch.AnnexSearch.getFocused()===this}getConfig(e){return this.#bL.config.get(e)}getHelper(e){return this.#bL[e]}getMutator(e){return this.#bN[e]||null}getView(e){return this.#bP[e]}hide(){return"inline"!==this.getConfig("layout")&&!1!==this.#a9&&(this.#a9=!1,window.annexSearch.AnnexSearch.clearFocused(),this.#bL.webComponentUI.hide(),!0)}mount(e=null){if(null===(e=this.#bT(e)))return this.#bM=!1,window.annexSearch.FunctionUtils.getEmptyPromise(this);let t=this.#bX();return e.appendChild(this),t}mounted(){return this.#bM}query(e){let t=this.getView("root").getView("root.header.field"),n=this.getView("root").getView("body.results.found");return t.focus(),t.clear(),t.nullifyLastTypesenseSearchResponse(),t.append(e),n.smoothScrollToTop(),n.resetFocusedIndex(),window.annexSearch.ElementUtils.waitForAnimation().then(function(){t.setCaret()}),t.first("input").dispatchEvent(new Event("input",{bubbles:!0})),!0}ready(){if(!0===this.#bO)return new Promise(function(e,t){e(this)});let e=this;return new Promise(function(t,n){let r=function(n){t(e)};e.addEventListener("ready",r,{once:!0})})}setConfig(e,t){return"object"==typeof e?this.#bL.config.merge(e):this.#bL.config.set(e,t)}setMutator(e,t){return this.#bN[e]=t,!0}show(){return!0!==this.#a9&&(this.#a9=!0,window.annexSearch.AnnexSearch.setFocused(this),this.#bL.webComponentUI.show(),!0)}showing(){return this.#a9}showTimer(e){return window.annexSearch.TimerUtils.build(this,{seconds:e}).show()}showToast(e,t,n=window.annexSearch.ToastUtils.getDuration()){let r=window.annexSearch.ToastUtils.build(this,{title:e,message:t});return r.setDuration(n),r.show(),r}toggle(){return(this.#bL.webComponentUI.toggle(),!0===this.#a9)?this.hide():this.show()}}}),/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ (function(){function e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function t(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var s=e[i];t(r,s,n(s),e)}return r}function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function r(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function a(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}function s(e,t){return!!(null==e?0:e.length)&&g(e,t,0)>-1}function o(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function u(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function l(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function c(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function h(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function d(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function p(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return -1}function g(e,t,n){return t==t?function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return -1}(e,t,n):p(e,$,n)}function v(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return -1}function $(e){return e!=e}function m(e,t){var n=null==e?0:e.length;return n?x(e,t)/n:ee}function y(e){return function(t){return null==t?q:t[e]}}function w(e){return function(t){return null==e?q:e[t]}}function b(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function x(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==q&&(n=n===q?a:n+a)}return n}function S(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function E(e){return e?e.slice(0,H(e)+1).replace(ez,""):e}function C(e){return function(t){return e(t)}}function U(e,t){return u(t,function(t){return e[t]})}function R(e,t){return e.has(t)}function V(e,t){for(var n=-1,r=e.length;++n<r&&g(t,e[n],0)>-1;);return n}function B(e,t){for(var n=e.length;n--&&g(t,e[n],0)>-1;);return n}function k(e){return"\\"+tD[e]}function L(e){return tA.test(e)}function A(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function T(e,t){return function(n){return e(t(n))}}function I(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==j||(e[n]=j,a[i++]=n)}return a}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function F(e){return L(e)?function e(t){for(var n=tk.lastIndex=0;tk.test(t);)++n;return n}(e):t5(e)}function D(e){var t,n;return L(e)?(n=e,n.match(tk)||[]):(t=e).split("")}function H(e){for(var t=e.length;t--&&e6.test(e.charAt(t)););return t}var q,O="Expected a function",M="__lodash_hash_undefined__",j="__lodash_placeholder__",K=1,z=2,N=4,P=8,G=16,Z=32,Q=64,Y="...",J=1/0,X=9007199254740991,ee=NaN,et=4294967295,en=et-1,er=et>>>1,ei=[["ary",128],["bind",1],["bindKey",2],["curry",P],["curryRight",G],["flip",512],["partial",Z],["partialRight",Q],["rearg",256]],ea="[object Arguments]",es="[object Array]",eo="[object Boolean]",eu="[object Date]",el="[object Error]",ec="[object Function]",eh="[object GeneratorFunction]",ef="[object Map]",ed="[object Number]",ep="[object Null]",eg="[object Object]",e8="[object Promise]",ev="[object RegExp]",e$="[object Set]",em="[object String]",ey="[object Symbol]",ew="[object Undefined]",eb="[object WeakMap]",ex="[object ArrayBuffer]",eS="[object DataView]",e_="[object Float32Array]",eE="[object Float64Array]",eC="[object Int8Array]",eU="[object Int16Array]",eR="[object Int32Array]",eV="[object Uint8Array]",eB="[object Uint8ClampedArray]",ek="[object Uint16Array]",eL="[object Uint32Array]",eA=/\b__p \+= '';/g,eT=/\b(__p \+=) '' \+/g,eI=/(__e\(.*?\)|\b__t\)) \+\n'';/g,eW=/&(?:amp|lt|gt|quot|#39);/g,eF=/[&<>"']/g,e0=RegExp(eW.source),eD=RegExp(eF.source),e9=/<%-([\s\S]+?)%>/g,eH=/<%([\s\S]+?)%>/g,eq=/<%=([\s\S]+?)%>/g,eO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eM=/^\w*$/,ej=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eK=/[\\^$.*+?()[\]{}|]/g,e1=RegExp(eK.source),ez=/^\s+/,e6=/\s/,eN=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,e4=/\{\n\/\* \[wrapped with (.+)\] \*/,eP=/,? & /,e2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,e7=/[()=,{}\[\]\/\s]/,e3=/\\(\\)?/g,e5=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eG=/\w*$/,eZ=/^[-+]0x[0-9a-f]+$/i,eQ=/^0b[01]+$/i,eY=/^\[object .+?Constructor\]$/,eJ=/^0o[0-7]+$/i,eX=/^(?:0|[1-9]\d*)$/,te=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tt=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,tr="\ud800-\udfff",ti="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ta="\\u2700-\\u27bf",ts="a-z\\xdf-\\xf6\\xf8-\\xff",to="A-Z\\xc0-\\xd6\\xd8-\\xde",tu="\\ufe0e\\ufe0f",tl="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tc="['’]",th="["+tl+"]",tf="["+ti+"]",td="["+ts+"]",tp="[^"+tr+tl+"\\d+"+ta+ts+to+"]",tg="\ud83c[\udffb-\udfff]",t8="[^"+tr+"]",tv="(?:\ud83c[\udde6-\uddff]){2}",t$="[\ud800-\udbff][\udc00-\udfff]",tm="["+to+"]",ty="\\u200d",tw="(?:"+td+"|"+tp+")",tb="(?:"+tc+"(?:d|ll|m|re|s|t|ve))?",tx="(?:"+tc+"(?:D|LL|M|RE|S|T|VE))?",tS="(?:"+tf+"|"+tg+")?",t_="["+tu+"]?",tE="(?:"+ty+"(?:"+[t8,tv,t$].join("|")+")"+t_+tS+")*",tC=t_+tS+tE,tU="(?:"+["["+ta+"]",tv,t$].join("|")+")"+tC,tR="(?:"+[t8+tf+"?",tf,tv,t$,"["+tr+"]"].join("|")+")",tV=RegExp(tc,"g"),tB=RegExp(tf,"g"),tk=RegExp(tg+"(?="+tg+")|"+tR+tC,"g"),tL=RegExp([tm+"?"+td+"+"+tb+"(?="+[th,tm,"$"].join("|")+")","(?:"+tm+"|"+tp+")+"+tx+"(?="+[th,tm+tw,"$"].join("|")+")",tm+"?"+tw+"+"+tb,tm+"+"+tx,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",tU].join("|"),"g"),tA=RegExp("["+ty+tr+ti+tu+"]"),tT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tW=-1,tF={};tF[e_]=tF[eE]=tF[eC]=tF[eU]=tF[eR]=tF[eV]=tF[eB]=tF[ek]=tF[eL]=!0,tF[ea]=tF[es]=tF[ex]=tF[eo]=tF[eS]=tF[eu]=tF[el]=tF[ec]=tF[ef]=tF[ed]=tF[eg]=tF[ev]=tF[e$]=tF[em]=tF[eb]=!1;var t0={};t0[ea]=t0[es]=t0[ex]=t0[eS]=t0[eo]=t0[eu]=t0[e_]=t0[eE]=t0[eC]=t0[eU]=t0[eR]=t0[ef]=t0[ed]=t0[eg]=t0[ev]=t0[e$]=t0[em]=t0[ey]=t0[eV]=t0[eB]=t0[ek]=t0[eL]=!0,t0[el]=t0[ec]=t0[eb]=!1;var tD={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},t9=parseFloat,tH=parseInt,tq="object"==typeof global&&global&&global.Object===Object&&global,tO="object"==typeof self&&self&&self.Object===Object&&self,tM=tq||tO||Function("return this")(),tj="object"==typeof exports&&exports&&!exports.nodeType&&exports,tK=tj&&"object"==typeof module&&module&&!module.nodeType&&module,t1=tK&&tK.exports===tj,tz=t1&&tq.process,t6=function(){try{var e;return tK&&tK.require&&tK.require("util").types||tz&&tz.binding&&tz.binding("util")}catch(t){}}(),tN=t6&&t6.isArrayBuffer,t4=t6&&t6.isDate,tP=t6&&t6.isMap,t2=t6&&t6.isRegExp,t7=t6&&t6.isSet,t3=t6&&t6.isTypedArray,t5=y("length"),tG=w({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tZ=w({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),tQ=w({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tY=function w(e6){function tr(e){if(io(e)&&!sF(e)&&!(e instanceof ts)){if(e instanceof ta)return e;if(i7.call(e,"__wrapped__"))return rW(e)}return new ta(e)}function ti(){}function ta(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=q}function ts(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function to(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tc(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new tl;++t<n;)this.add(e[t])}function th(e){this.size=(this.__data__=new tu(e)).size}function tf(e,t){var n=sF(e),r=!n&&sW(e),i=!n&&!r&&sD(e),a=!n&&!r&&!i&&sM(e),s=n||r||i||a,o=s?S(e.length,i1):[],u=o.length;for(var l in e)!t&&!i7.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||rb(l,u))||o.push(l);return o}function td(e){var t=e.length;return t?e[nv(0,t-1)]:q}function tp(e,t){return rA(n1(e),tx(t,0,e.length))}function tg(e){return rA(n1(e))}function t8(e,t,n){(n===q||rY(e[t],n))&&(n!==q||t in e)||tw(e,t,n)}function tv(e,t,n){var r=e[t];i7.call(e,t)&&rY(r,n)&&(n!==q||t in e)||tw(e,t,n)}function t$(e,t){for(var n=e.length;n--;)if(rY(e[n][0],t))return n;return -1}function tm(e,t,n,r){return aj(e,function(e,i,a){t(r,e,n(e),a)}),r}function ty(e,t){return e&&nz(t,ib(t),e)}function tw(e,t,n){"__proto__"==t&&al?al(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function tb(e,t){for(var n=-1,r=t.length,i=i9(r),a=null==e;++n<r;)i[n]=a?q:iy(e,t[n]);return i}function tx(e,t,n){return e==e&&(n!==q&&(e=e<=n?e:n),t!==q&&(e=e>=t?e:t)),e}function tS(e,t,r,i,a,s){var o,u=t&K,l=2&t;if(r&&(o=a?r(e,i,a,s):r(e)),o!==q)return o;if(!is(e))return e;var c=sF(e);if(c){if(o=(h=e,f=h.length,d=new h.constructor(f),f&&"string"==typeof h[0]&&i7.call(h,"index")&&(d.index=h.index,d.input=h.input),d),!u)return n1(e,o)}else{var h,f,d,p,g,v,$,m,y,w=a5(e),b=w==ec||w==eh;if(sD(e))return nH(e,u);if(w==eg||w==ea||b&&!a){if(o=l||b?{}:ry(e),!u){return l?(p=e,g=(m=o,y=e,m&&nz(y,ix(y),m)),nz(p,a3(p),g)):(v=e,$=ty(o,e),nz(v,a7(v),$))}}else{if(!t0[w])return a?e:{};o=function e(t,n,r){var i,a,s,o,u,l=t.constructor;switch(n){case ex:return nq(t);case eo:case eu:return new l(+t);case eS:return i=t,a=r,new i.constructor(a?nq(i.buffer):i.buffer,i.byteOffset,i.byteLength);case e_:case eE:case eC:case eU:case eR:case eV:case eB:case ek:case eL:return nO(t,r);case ef:return new l;case ed:case em:return new l(t);case ev:return(o=new(s=t).constructor(s.source,eG.exec(s))).lastIndex=s.lastIndex,o;case e$:return new l;case ey:return u=t,aD?ij(aD.call(u)):{}}}(e,w,u)}}s||(s=new th);var x=s.get(e);if(x)return x;s.set(e,o),sO(e)?e.forEach(function(n){o.add(tS(n,t,r,n,e,s))}):sH(e)&&e.forEach(function(n,i){o.set(i,tS(n,t,r,i,e,s))});var S=4&t?l?rf:rh:l?ix:ib,E=c?q:S(e);return n(E||e,function(n,i){E&&(n=e[i=n]),tv(o,i,tS(n,t,r,i,e,s))}),o}function t_(e,t,n){var r=n.length;if(null==e)return!r;for(e=ij(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===q&&!(i in e)||!a(s))return!1}return!0}function tE(e,t,n){if("function"!=typeof e)throw new iz(O);return aQ(function(){e.apply(q,n)},t)}function tC(e,t,n,r){var i=-1,a=s,l=!0,c=e.length,h=[],f=t.length;if(!c)return h;n&&(t=u(t,C(n))),r?(a=o,l=!1):t.length>=200&&(a=R,l=!1,t=new tc(t));n:for(;++i<c;){var d=e[i],p=null==n?d:n(d);if(d=r||0!==d?d:0,l&&p==p){for(var g=f;g--;)if(t[g]===p)continue n;h.push(d)}else a(t,p,r)||h.push(d)}return h}function tU(e,t){var n=!0;return aj(e,function(e,r,i){return n=!!t(e,r,i)}),n}function tR(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(o===q?s==s&&!ih(s):n(s,o)))var o=s,u=a}return u}function tk(e,t){var n=[];return aj(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function tA(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=rw),i||(i=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?tA(o,t-1,n,r,i):l(i,o):r||(i[i.length]=o)}return i}function tD(e,t){return e&&a1(e,t,ib)}function tq(e,t){return e&&az(e,t,ib)}function tO(e,t){return a(t,function(t){return ir(e[t])})}function tj(e,t){t=nD(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[rT(t[n++])];return n&&n==r?e:q}function tK(e,t,n){var r=t(e);return sF(e)?r:l(r,n(e))}function tz(e){var t;return null==e?e===q?ew:ep:au&&au in ij(e)?function e(t){var n=i7.call(t,au),r=t[au];try{t[au]=q;var i=!0}catch(a){}var s=iG.call(t);return i&&(n?t[au]=r:delete t[au]),s}(e):(t=e,iG.call(t))}function t6(e,t){return e>t}function t5(e,t){return null!=e&&i7.call(e,t)}function tJ(e,t){return null!=e&&t in ij(e)}function tX(e,t,n){for(var r=n?o:s,i=e[0].length,a=e.length,l=a,c=i9(a),h=1/0,f=[];l--;){var d=e[l];l&&t&&(d=u(d,C(t))),h=aw(d.length,h),c[l]=!n&&(t||i>=120&&d.length>=120)?new tc(l&&d):q}d=e[0];var p=-1,g=c[0];n:for(;++p<i&&f.length<h;){var v=d[p],$=t?t(v):v;if(v=n||0!==v?v:0,!(g?R(g,$):r(f,$,n))){for(l=a;--l;){var m=c[l];if(!(m?R(m,$):r(e[l],$,n)))continue n}g&&g.push($),f.push(v)}}return f}function ne(t,n,r){n=nD(n,t);var i=null==(t=rV(t,n))?t:t[rT(rH(n))];return null==i?q:e(i,t,r)}function nt(e){return io(e)&&tz(e)==ea}function nn(e,t,n,r,i){return e===t||(null!=e&&null!=t&&(io(e)||io(t))?function e(t,n,r,i,a,s){var o=sF(t),u=sF(n),l=o?es:a5(t),c=u?es:a5(n);l=l==ea?eg:l,c=c==ea?eg:c;var h=l==eg,f=c==eg,d=l==c;if(d&&sD(t)){if(!sD(n))return!1;o=!0,h=!1}if(d&&!h)return s||(s=new th),o||sM(t)?rl(t,n,r,i,a,s):function e(t,n,r,i,a,s,o){switch(r){case eS:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case ex:return!(t.byteLength!=n.byteLength||!s(new ae(t),new ae(n)));case eo:case eu:case ed:return rY(+t,+n);case el:return t.name==n.name&&t.message==n.message;case ev:case em:return t==n+"";case ef:var u=A;case e$:var l=1&i;if(u||(u=W),t.size!=n.size&&!l)break;var c=o.get(t);if(c)return c==n;i|=z,o.set(t,n);var h=rl(u(t),u(n),i,a,s,o);return o.delete(t),h;case ey:if(aD)return aD.call(t)==aD.call(n)}return!1}(t,n,l,r,i,a,s);if(!(1&r)){var p=h&&i7.call(t,"__wrapped__"),g=f&&i7.call(n,"__wrapped__");if(p||g){var v=p?t.value():t,$=g?n.value():n;return s||(s=new th),a(v,$,r,i,s)}}return!!d&&(s||(s=new th),function e(t,n,r,i,a,s){var o=1&r,u=rh(t),l=u.length;if(l!=rh(n).length&&!o)return!1;for(var c=l;c--;){var h=u[c];if(!(o?h in n:i7.call(n,h)))return!1}var f=s.get(t),d=s.get(n);if(f&&d)return f==n&&d==t;var p=!0;s.set(t,n),s.set(n,t);for(var g=o;++c<l;){var v=t[h=u[c]],$=n[h];if(i)var m=o?i($,v,h,n,t,s):i(v,$,h,t,n,s);if(!(m===q?v===$||a(v,$,r,i,s):m)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var y=t.constructor,w=n.constructor;y!=w&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(p=!1)}return s.delete(t),s.delete(n),p}(t,n,r,i,a,s))}(e,t,n,r,nn,i):e!=e&&t!=t)}function nr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=ij(e);i--;){var o=n[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var u=(o=n[i])[0],l=e[u],c=o[1];if(s&&o[2]){if(l===q&&!(u in e))return!1}else{var h=new th;if(r)var f=r(l,c,u,e,t,h);if(!(f===q?nn(c,l,1|z,r,h):f))return!1}}return!0}function ni(e){var t;return!(!is(e)||(t=e,i5&&i5 in t))&&(ir(e)?iY:eY).test(rI(e))}function na(e){return"function"==typeof e?e:null==e?iV:"object"==typeof e?sF(e)?nc(e[0],e[1]):nl(e):iA(e)}function ns(e){if(!rE(e))return am(e);var t=[];for(var n in ij(e))i7.call(e,n)&&"constructor"!=n&&t.push(n);return t}function no(e,t){return e<t}function nu(e,t){var n=-1,r=rJ(e)?i9(e.length):[];return aj(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function nl(e){var t=rv(e);return 1==t.length&&t[0][2]?rU(t[0][0],t[0][1]):function(n){return n===e||nr(n,e,t)}}function nc(e,t){return rS(e)&&rC(t)?rU(rT(e),t):function(n){var r=iy(n,e);return r===q&&r===t?iw(n,e):nn(t,r,1|z)}}function nh(e,t,n,r,i){e!==t&&a1(t,function(a,s){if(i||(i=new th),is(a))(function e(t,n,r,i,a,s,o){var u=rB(t,r),l=rB(n,r),c=o.get(l);if(c)return t8(t,r,c),q;var h=s?s(u,l,r+"",t,n,o):q,f=h===q;if(f){var d=sF(l),p=!d&&sD(l),g=!d&&!p&&sM(l);h=l,d||p||g?sF(u)?h=u:rX(u)?h=n1(u):p?(f=!1,h=nH(l,!0)):g?(f=!1,h=nO(l,!0)):h=[]:il(l)||sW(l)?(h=u,sW(u)?h=i$(u):is(u)&&!ir(u)||(h=ry(l))):f=!1}f&&(o.set(l,h),a(h,l,i,s,o),o.delete(l)),t8(t,r,h)})(e,t,s,n,nh,r,i);else{var o=r?r(rB(e,s),a,s+"",e,t,i):q;o===q&&(o=a),t8(e,s,o)}},ix)}function nf(e,t){var n=e.length;if(n)return rb(t+=t<0?n:0,n)?e[t]:q}function nd(e,t,n){t=t.length?u(t,function(e){return sF(e)?function(t){return tj(t,1===e.length?e[0]:e)}:e}):[iV];var r=-1;return t=u(t,C(rg())),function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}(nu(e,function(e,n,i){return{criteria:u(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function e(t,n,r){for(var i=-1,a=t.criteria,s=n.criteria,o=a.length,u=r.length;++i<o;){var l=nM(a[i],s[i]);if(l){if(i>=u)return l;return l*("desc"==r[i]?-1:1)}}return t.index-n.index}(e,t,n)})}function np(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var s=t[r],o=tj(e,s);n(o,s)&&nb(a,nD(s,e),o)}return a}function ng(e,t,n,r){var i=r?v:g,a=-1,s=t.length,o=e;for(e===t&&(t=n1(t)),n&&(o=u(e,C(n)));++a<s;)for(var l=0,c=t[a],h=n?n(c):c;(l=i(o,h,l,r))>-1;)o!==e&&aa.call(o,l,1),aa.call(e,l,1);return e}function n8(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;rb(i)?aa.call(e,i,1):nk(e,i)}}return e}function nv(e,t){return e+ap(aS()*(t-e+1))}function n$(e,t){var n="";if(!e||t<1||t>X)return n;do t%2&&(n+=e),(t=ap(t/2))&&(e+=e);while(t);return n}function nm(e,t){return aY(rR(e,t,iV),e+"")}function ny(e){return td(i_(e))}function nw(e,t){var n=i_(e);return rA(n,tx(t,0,n.length))}function nb(e,t,n,r){if(!is(e))return e;t=nD(t,e);for(var i=-1,a=t.length,s=a-1,o=e;null!=o&&++i<a;){var u=rT(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(i!=s){var c=o[u];(l=r?r(c,u,o):q)===q&&(l=is(c)?c:rb(t[i+1])?[]:{})}tv(o,u,l),o=o[u]}return e}function nx(e){return rA(i_(e))}function nS(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=i9(i);++r<i;)a[r]=e[r+t];return a}function n_(e,t){var n;return aj(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function nE(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=er){for(;r<i;){var a=r+i>>>1,s=e[a];null!==s&&!ih(s)&&(n?s<=t:s<t)?r=a+1:i=a}return i}return nC(e,t,iV,n)}function nC(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;t=n(t);for(var s=t!=t,o=null===t,u=ih(t),l=t===q;i<a;){var c=ap((i+a)/2),h=n(e[c]),f=h!==q,d=null===h,p=h==h,g=ih(h);if(s)var v=r||p;else v=l?p&&(r||f):o?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):!d&&!g&&(r?h<=t:h<t);v?i=c+1:a=c}return aw(a,en)}function nU(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n],o=t?t(s):s;if(!n||!rY(o,u)){var u=o;a[i++]=0===s?0:s}}return a}function nR(e){return"number"==typeof e?e:ih(e)?ee:+e}function nV(e){if("string"==typeof e)return e;if(sF(e))return u(e,nV)+"";if(ih(e))return a9?a9.call(e):"";var t=e+"";return"0"==t&&1/e==-J?"-0":t}function nB(e,t,n){var r=-1,i=s,a=e.length,u=!0,l=[],c=l;if(n)u=!1,i=o;else if(a>=200){var h=t?null:aP(e);if(h)return W(h);u=!1,i=R,c=new tc}else c=t?[]:l;n:for(;++r<a;){var f=e[r],d=t?t(f):f;if(f=n||0!==f?f:0,u&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue n;t&&c.push(d),l.push(f)}else i(c,d,n)||(c!==l&&c.push(d),l.push(f))}return l}function nk(e,t){return t=nD(t,e),null==(e=rV(e,t))||delete e[rT(rH(t))]}function nL(e,t,n,r){return nb(e,t,n(tj(e,t)),r)}function nA(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?nS(e,r?0:a,r?a+1:i):nS(e,r?a+1:0,r?i:a)}function nT(e,t){var n=e;return n instanceof ts&&(n=n.value()),c(t,function(e,t){return t.func.apply(t.thisArg,l([e],t.args))},n)}function nI(e,t,n){var r=e.length;if(r<2)return r?nB(e[0]):[];for(var i=-1,a=i9(r);++i<r;)for(var s=e[i],o=-1;++o<r;)o!=i&&(a[i]=tC(a[i]||s,e[o],t,n));return nB(tA(a,1),t,n)}function nW(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;)n(s,e[r],r<a?t[r]:q);return s}function nF(e){return rX(e)?e:[]}function n0(e){return"function"==typeof e?e:iV}function nD(e,t){return sF(e)?e:rS(e,t)?[e]:aJ(im(e))}function n9(e,t,n){var r=e.length;return n=n===q?r:n,!t&&n>=r?e:nS(e,t,n)}function nH(e,t){if(t)return e.slice();var n=e.length,r=at?at(n):new e.constructor(n);return e.copy(r),r}function nq(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function nO(e,t){return new e.constructor(t?nq(e.buffer):e.buffer,e.byteOffset,e.length)}function nM(e,t){if(e!==t){var n=e!==q,r=null===e,i=e==e,a=ih(e),s=t!==q,o=null===t,u=t==t,l=ih(t);if(!o&&!l&&!a&&e>t||a&&s&&u&&!o&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!u)return -1}return 0}function nj(e,t,n,r){for(var i=-1,a=e.length,s=n.length,o=-1,u=t.length,l=ay(a-s,0),c=i9(u+l),h=!r;++o<u;)c[o]=t[o];for(;++i<s;)(h||i<a)&&(c[n[i]]=e[i]);for(;l--;)c[o++]=e[i++];return c}function nK(e,t,n,r){for(var i=-1,a=e.length,s=-1,o=n.length,u=-1,l=t.length,c=ay(a-o,0),h=i9(c+l),f=!r;++i<c;)h[i]=e[i];for(var d=i;++u<l;)h[d+u]=t[u];for(;++s<o;)(f||i<a)&&(h[d+n[s]]=e[i++]);return h}function n1(e,t){var n=-1,r=e.length;for(t||(t=i9(r));++n<r;)t[n]=e[n];return t}function nz(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],u=r?r(n[o],e[o],o,n,e):q;u===q&&(u=e[o]),i?tw(n,o,u):tv(n,o,u)}return n}function n6(e,n){return function(r,i){var a=sF(r)?t:tm,s=n?n():{};return a(r,e,rg(i,2),s)}}function nN(e){return nm(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:q,s=i>2?n[2]:q;for(a=e.length>3&&"function"==typeof a?(i--,a):q,s&&rx(n[0],n[1],s)&&(a=i<3?q:a,i=1),t=ij(t);++r<i;){var o=n[r];o&&e(t,o,r,a)}return t})}function n4(e,t){return function(n,r){if(null==n)return n;if(!rJ(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=ij(n);(t?a--:++a<i)&&!1!==r(s[a],a,s););return n}}function nP(e){return function(t,n,r){for(var i=-1,a=ij(t),s=r(t),o=s.length;o--;){var u=s[e?o:++i];if(!1===n(a[u],u,a))break}return t}}function n2(e){return function(t){t=im(t);var n=L(t)?D(t):q,r=n?n[0]:t.charAt(0),i=n?n9(n,1).join(""):t.slice(1);return r[e]()+i}}function n7(e){return function(t){return c(iU(iC(t).replace(tV,"")),e,"")}}function n3(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=aH(e.prototype),r=e.apply(n,t);return is(r)?r:n}}function n5(e){return function(t,n,r){var i=ij(t);if(!rJ(t)){var a=rg(n,3);t=ib(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:q}}function nG(e){return rc(function(t){var n=t.length,r=n,i=ta.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new iz(O);if(i&&!s&&"wrapper"==rd(a))var s=new ta([],!0)}for(r=s?r:n;++r<n;){var o=rd(a=t[r]),u="wrapper"==o?a2(a):q;s=u&&r_(u[0])&&u[1]==(128|P|Z|256)&&!u[4].length&&1==u[9]?s[rd(u[0])].apply(s,u[3]):1==a.length&&r_(a)?s[o]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&sF(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function nZ(e,t,n,r,i,a,s,o,u,l){function c(){for(var $=arguments.length,m=i9($),y=$;y--;)m[y]=arguments[y];if(p)var w=rp(c),b=function e(t,n){for(var r=t.length,i=0;r--;)t[r]===n&&++i;return i}(m,w);if(r&&(m=nj(m,r,i,p)),a&&(m=nK(m,a,s,p)),$-=b,p&&$<l)return rn(e,t,nZ,c.placeholder,n,m,I(m,w),o,u,l-$);var x=f?n:this,S=d?x[e]:e;return $=m.length,o?m=function e(t,n){for(var r=t.length,i=aw(n.length,r),a=n1(t);i--;){var s=n[i];t[i]=rb(s,r)?a[s]:q}return t}(m,o):g&&$>1&&m.reverse(),h&&u<$&&(m.length=u),this&&this!==tM&&this instanceof c&&(S=v||n3(S)),S.apply(x,m)}var h=128&t,f=1&t,d=2&t,p=t&(P|G),g=512&t,v=d?q:n3(e);return c}function nQ(e,t){return function(n,r){var i,a,s,o;return i=n,a=e,s=t(r),o={},tD(i,function(e,t,n){a(o,s(e),t,n)}),o}}function nY(e,t){return function(n,r){var i;if(n===q&&r===q)return t;if(n!==q&&(i=n),r!==q){if(i===q)return r;"string"==typeof n||"string"==typeof r?(n=nV(n),r=nV(r)):(n=nR(n),r=nR(r)),i=e(n,r)}return i}}function nJ(t){return rc(function(n){return n=u(n,C(rg())),nm(function(r){var i=this;return t(n,function(t){return e(t,i,r)})})})}function nX(e,t){var n=(t=t===q?" ":nV(t)).length;if(n<2)return n?n$(t,e):t;var r=n$(t,ad(e/F(t)));return L(t)?n9(D(r),0,e).join(""):r.slice(0,e)}function re(e){return function(t,n,r){return r&&"number"!=typeof r&&rx(t,n,r)&&(n=r=q),t=ip(t),n===q?(n=t,t=0):n=ip(n),r=r===q?t<n?1:-1:ip(r),function e(t,n,r,i){for(var a=-1,s=ay(ad((n-t)/(r||1)),0),o=i9(s);s--;)o[i?s:++a]=t,t+=r;return o}(t,n,r,e)}}function rt(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=iv(t),n=iv(n)),e(t,n)}}function rn(e,t,n,r,i,a,s,o,u,l){var c=t&P,h=c?s:q,f=c?q:s,d=c?a:q,p=c?q:a;t|=c?Z:Q,(t&=~(c?Q:Z))&N||(t&=-4);var g=[e,t,i,d,h,p,f,o,u,l],v=n.apply(q,g);return r_(e)&&aZ(v,g),v.placeholder=r,rk(v,e,t)}function rr(e){var t=iM[e];return function(e,n){if(e=iv(e),(n=null==n?0:aw(ig(n),292))&&av(e)){var r=(im(e)+"e").split("e");return+((r=(im(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function ri(e){return function(t){var n,r,i,a,s,o=a5(t);return o==ef?A(t):o==e$?(n=t,r=-1,i=Array(n.size),n.forEach(function(e){i[++r]=[e,e]}),i):(a=t,s=e(t),u(s,function(e){return[e,a[e]]}))}}function ra(t,n,r,i,a,s,o,u){var l=2&n;if(!l&&"function"!=typeof t)throw new iz(O);var c=i?i.length:0;if(c||(n&=~(Z|Q),i=a=q),o=o===q?o:ay(ig(o),0),u=u===q?u:ig(u),c-=a?a.length:0,n&Q){var h=i,f=a;i=a=q}var d=l?q:a2(t),p=[t,n,r,i,a,h,f,s,o,u];if(d&&function e(t,n){var r=t[1],i=n[1],a=r|i,s=a<131,o=128==i&&r==P||128==i&&256==r&&t[7].length<=n[8]||384==i&&n[7].length<=n[8]&&r==P;if(!s&&!o)return t;1&i&&(t[2]=n[2],a|=1&r?0:N);var u=n[3];if(u){var l=t[3];t[3]=l?nj(l,u,n[4]):u,t[4]=l?I(t[3],j):n[4]}return(u=n[5])&&(l=t[5],t[5]=l?nK(l,u,n[6]):u,t[6]=l?I(t[5],j):n[6]),(u=n[7])&&(t[7]=u),128&i&&(t[8]=null==t[8]?n[8]:aw(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=a,t}(p,d),t=p[0],n=p[1],r=p[2],i=p[3],a=p[4],(u=p[9]=p[9]===q?l?0:t.length:ay(p[9]-c,0))||!(n&(P|G))||(n&=~(P|G)),n&&1!=n)U=n==P||n==G?function t(n,r,i){function a(){for(var t=arguments.length,o=i9(t),u=t,l=rp(a);u--;)o[u]=arguments[u];var c=t<3&&o[0]!==l&&o[t-1]!==l?[]:I(o,l);return(t-=c.length)<i?rn(n,r,nZ,a.placeholder,q,o,c,q,q,i-t):e(this&&this!==tM&&this instanceof a?s:n,this,o)}var s=n3(n);return a}(t,n,u):n!=Z&&n!=(1|Z)||a.length?nZ.apply(q,p):(g=t,v=n,$=r,m=i,y=1&v,w=n3(g),function t(){for(var n=-1,r=arguments.length,i=-1,a=m.length,s=i9(a+r),o=this&&this!==tM&&this instanceof t?w:g;++i<a;)s[i]=m[i];for(;r--;)s[i++]=arguments[++n];return e(o,y?$:this,s)});else var g,v,$,m,y,w,b,x,S,E,C,U=(b=t,x=n,S=r,E=1&x,C=n3(b),function e(){return(this&&this!==tM&&this instanceof e?C:b).apply(E?S:this,arguments)});return rk((d?a6:aZ)(U,p),t,n)}function rs(e,t,n,r){return e===q||rY(e,i4[n])&&!i7.call(r,n)?t:e}function ro(e,t,n,r,i,a){return is(e)&&is(t)&&(a.set(t,e),nh(e,t,q,ro,a),a.delete(t)),e}function ru(e){return il(e)?q:e}function rl(e,t,n,r,i,a){var s=1&n,o=e.length,u=t.length;if(o!=u&&!(s&&u>o))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var h=-1,d=!0,p=n&z?new tc:q;for(a.set(e,t),a.set(t,e);++h<o;){var g=e[h],v=t[h];if(r)var $=s?r(v,g,h,t,e,a):r(g,v,h,e,t,a);if($!==q){if($)continue;d=!1;break}if(p){if(!f(t,function(e,t){if(!R(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)})){d=!1;break}}else if(g!==v&&!i(g,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function rc(e){return aY(rR(e,q,rD),e+"")}function rh(e){return tK(e,ib,a7)}function rf(e){return tK(e,ix,a3)}function rd(e){for(var t=e.name+"",n=aL[t],r=i7.call(aL,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function rp(e){return(i7.call(tr,"placeholder")?tr:e).placeholder}function rg(){var e=tr.iteratee||iB;return e=e===iB?na:e,arguments.length?e(arguments[0],arguments[1]):e}function r8(e,t){var n,r,i=e.__data__;return(n=t,r=typeof n,"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function rv(e){for(var t=ib(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,rC(i)]}return t}function r$(e,t){var n,r,i=(n=e,r=t,null==n?q:n[r]);return ni(i)?i:q}function rm(e,t,n){t=nD(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var s=rT(t[r]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&ia(i)&&rb(s,i)&&(sF(e)||sW(e))}function ry(e){return"function"!=typeof e.constructor||rE(e)?{}:aH(an(e))}function rw(e){return sF(e)||sW(e)||!!(as&&e&&e[as])}function rb(e,t){var n=typeof e;return!!(t=null==t?X:t)&&("number"==n||"symbol"!=n&&eX.test(e))&&e>-1&&e%1==0&&e<t}function rx(e,t,n){if(!is(n))return!1;var r=typeof t;return!!("number"==r?rJ(n)&&rb(t,n.length):"string"==r&&t in n)&&rY(n[t],e)}function rS(e,t){if(sF(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ih(e))||eM.test(e)||!eO.test(e)||null!=t&&e in ij(t)}function r_(e){var t=rd(e),n=tr[t];if("function"!=typeof n||!(t in ts.prototype))return!1;if(e===n)return!0;var r=a2(n);return!!r&&e===r[0]}function rE(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i4)}function rC(e){return e==e&&!is(e)}function rU(e,t){return function(n){return null!=n&&n[e]===t&&(t!==q||e in ij(n))}}function rR(t,n,r){return n=ay(n===q?t.length-1:n,0),function(){for(var i=arguments,a=-1,s=ay(i.length-n,0),o=i9(s);++a<s;)o[a]=i[n+a];a=-1;for(var u=i9(n+1);++a<n;)u[a]=i[a];return u[n]=r(o),e(t,this,u)}}function rV(e,t){return t.length<2?e:tj(e,nS(t,0,-1))}function rB(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function rk(e,t,r){var i,a,o,u,l=t+"";return aY(e,function e(t,n){var r=n.length;if(!r)return t;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),t.replace(eN,"{\n/* [wrapped with "+n+"] */\n")}(l,(o=(a=(i=l).match(e4))?a[1].split(eP):[],u=r,n(ei,function(e){var t="_."+e[0];u&e[1]&&!s(o,t)&&o.push(t)}),o.sort())))}function rL(e){var t=0,n=0;return function(){var r=ab(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(q,arguments)}}function rA(e,t){var n=-1,r=e.length,i=r-1;for(t=t===q?r:t;++n<t;){var a=nv(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}function rT(e){if("string"==typeof e||ih(e))return e;var t=e+"";return"0"==t&&1/e==-J?"-0":t}function rI(e){if(null!=e){try{return i2.call(e)}catch(t){}try{return e+""}catch(n){}}return""}function rW(e){if(e instanceof ts)return e.clone();var t=new ta(e.__wrapped__,e.__chain__);return t.__actions__=n1(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function rF(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:ig(n);return i<0&&(i=ay(r+i,0)),p(e,rg(t,3),i)}function r0(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=r-1;return n!==q&&(i=ig(n),i=n<0?ay(r+i,0):aw(i,r-1)),p(e,rg(t,3),i,!0)}function rD(e){return(null==e?0:e.length)?tA(e,1):[]}function r9(e){return e&&e.length?e[0]:q}function rH(e){var t=null==e?0:e.length;return t?e[t-1]:q}function rq(e,t){return e&&e.length&&t&&t.length?ng(e,t):e}function rO(e){return null==e?e:a_.call(e)}function rM(e,t){return nE(e,t)}function rj(e){if(!e||!e.length)return[];var t=0;return e=a(e,function(e){if(rX(e))return t=ay(e.length,t),!0}),S(t,function(t){return u(e,y(t))})}function rK(t,n){if(!t||!t.length)return[];var r=rj(t);return null==n?r:u(r,function(t){return e(n,q,t)})}function r1(e){var t=tr(e);return t.__chain__=!0,t}function rz(e,t){return t(e),e}function r6(e,t){return t(e)}function rN(e,t){return(sF(e)?n:aj)(e,rg(t,3))}function r4(e,t){return(sF(e)?r:aK)(e,rg(t,3))}function rP(e,t){return(sF(e)?u:nu)(e,rg(t,3))}function r2(e,t,n){return t=n?q:t,t=e&&null==t?e.length:t,ra(e,128,q,q,q,q,t)}function r7(e,t){var n;if("function"!=typeof t)throw new iz(O);return e=ig(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=q),n}}function r3(e,t,n){t=n?q:t;var r=ra(e,P,q,q,q,q,q,t);return r.placeholder=r3.placeholder,r}function r5(e,t,n){t=n?q:t;var r=ra(e,G,q,q,q,q,q,t);return r.placeholder=r5.placeholder,r}function rG(e,t,n){function r(t){var n=u,r=l;return u=l=q,p=t,h=e.apply(r,n)}function i(e){var n=e-d,r=e-p;return d===q||n>=t||n<0||v&&r>=c}function a(){var e,n,r,o,u=s_();return i(u)?s(u):(f=aQ(a,(n=(e=u)-d,r=e-p,o=t-n,v?aw(o,c-r):o)),q)}function s(e){return f=q,$&&u?r(e):(u=l=q,h)}function o(){var e,n=s_(),s=i(n);if(u=arguments,l=this,d=n,s){if(f===q)return p=e=d,f=aQ(a,t),g?r(e):h;if(v)return a4(f),f=aQ(a,t),r(d)}return f===q&&(f=aQ(a,t)),h}var u,l,c,h,f,d,p=0,g=!1,v=!1,$=!0;if("function"!=typeof e)throw new iz(O);return t=iv(t)||0,is(n)&&(g=!!n.leading,c=(v="maxWait"in n)?ay(iv(n.maxWait)||0,t):c,$="trailing"in n?!!n.trailing:$),o.cancel=function e(){f!==q&&a4(f),p=0,u=d=l=f=q},o.flush=function e(){return f===q?h:s(s_())},o}function rZ(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new iz(O);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(rZ.Cache||tl),n}function rQ(e){if("function"!=typeof e)throw new iz(O);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function rY(e,t){return e===t||e!=e&&t!=t}function rJ(e){return null!=e&&ia(e.length)&&!ir(e)}function rX(e){return io(e)&&rJ(e)}function ie(e,t){return nn(e,t)}function it(e){if(!io(e))return!1;var t=tz(e);return t==el||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!il(e)}function ir(e){if(!is(e))return!1;var t=tz(e);return t==ec||t==eh||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ii(e){return"number"==typeof e&&e==ig(e)}function ia(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=X}function is(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function io(e){return null!=e&&"object"==typeof e}function iu(e){return"number"==typeof e||io(e)&&tz(e)==ed}function il(e){if(!io(e)||tz(e)!=eg)return!1;var t=an(e);if(null===t)return!0;var n=i7.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i2.call(n)==iZ}function ic(e){return"string"==typeof e||!sF(e)&&io(e)&&tz(e)==em}function ih(e){return"symbol"==typeof e||io(e)&&tz(e)==ey}function id(e){if(!e)return[];if(rJ(e))return ic(e)?D(e):n1(e);if(ao&&e[ao])return function e(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}(e[ao]());var t=a5(e);return(t==ef?A:t==e$?W:i_)(e)}function ip(e){return e?(e=iv(e))===J||e===-J?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function ig(e){var t=ip(e),n=t%1;return t==t?n?t-n:t:0}function i8(e){return e?tx(ig(e),0,et):0}function iv(e){if("number"==typeof e)return e;if(ih(e))return ee;if(is(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=is(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=E(e);var n=eQ.test(e);return n||eJ.test(e)?tH(e.slice(2),n?2:8):eZ.test(e)?ee:+e}function i$(e){return nz(e,ix(e))}function im(e){return null==e?"":nV(e)}function iy(e,t,n){var r=null==e?q:tj(e,t);return r===q?n:r}function iw(e,t){return null!=e&&rm(e,t,tJ)}function ib(e){return rJ(e)?tf(e):ns(e)}function ix(e){return rJ(e)?tf(e,!0):function e(t){if(!is(t))return function e(t){var n=[];if(null!=t)for(var r in ij(t))n.push(r);return n}(t);var n=rE(t),r=[];for(var i in t)("constructor"!=i||!n&&i7.call(t,i))&&r.push(i);return r}(e)}function iS(e,t){if(null==e)return{};var n=u(rf(e),function(e){return[e]});return t=rg(t),np(e,n,function(e,n){return t(e,n[0])})}function i_(e){return null==e?[]:U(e,ib(e))}function iE(e){return oo(im(e).toLowerCase())}function iC(e){return(e=im(e))&&e.replace(te,tG).replace(tB,"")}function iU(e,t,n){var r,i,a;return e=im(e),(t=n?q:t)===q?(r=e,tT.test(r))?(i=e).match(tL)||[]:(a=e).match(e2)||[]:e.match(t)||[]}function iR(e){return function(){return e}}function iV(e){return e}function iB(e){return na("function"==typeof e?e:tS(e,K))}function ik(e,t,r){var i=ib(t),a=tO(t,i);null!=r||is(t)&&(a.length||!i.length)||(r=t,t=e,e=this,a=tO(t,ib(t)));var s=!(is(r)&&"chain"in r&&!r.chain),o=ir(e);return n(a,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=n1(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,l([this.value()],arguments))})}),e}function iL(){}function iA(e){var t;return rS(e)?y(rT(e)):(t=e,function(e){return tj(e,t)})}function iT(){return[]}function iI(){return!1}function iW(){return{}}function iF(){return""}function i0(){return!0}var iD,i9=(e6=null==e6?tM:tY.defaults(tM.Object(),e6,tY.pick(tM,tI))).Array,iH=e6.Date,iq=e6.Error,iO=e6.Function,iM=e6.Math,ij=e6.Object,iK=e6.RegExp,i1=e6.String,iz=e6.TypeError,i6=i9.prototype,iN=iO.prototype,i4=ij.prototype,iP=e6["__core-js_shared__"],i2=iN.toString,i7=i4.hasOwnProperty,i3=0,i5=(iD=/[^.]+$/.exec(iP&&iP.keys&&iP.keys.IE_PROTO||""))?"Symbol(src)_1."+iD:"",iG=i4.toString,iZ=i2.call(ij),iQ=tM._,iY=iK("^"+i2.call(i7).replace(eK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iJ=t1?e6.Buffer:q,iX=e6.Symbol,ae=e6.Uint8Array,at=iJ?iJ.allocUnsafe:q,an=T(ij.getPrototypeOf,ij),ar=ij.create,ai=i4.propertyIsEnumerable,aa=i6.splice,as=iX?iX.isConcatSpreadable:q,ao=iX?iX.iterator:q,au=iX?iX.toStringTag:q,al=function(){try{var e=r$(ij,"defineProperty");return e({},"",{}),e}catch(t){}}(),ac=e6.clearTimeout!==tM.clearTimeout&&e6.clearTimeout,ah=iH&&iH.now!==tM.Date.now&&iH.now,af=e6.setTimeout!==tM.setTimeout&&e6.setTimeout,ad=iM.ceil,ap=iM.floor,ag=ij.getOwnPropertySymbols,a8=iJ?iJ.isBuffer:q,av=e6.isFinite,a$=i6.join,am=T(ij.keys,ij),ay=iM.max,aw=iM.min,ab=iH.now,ax=e6.parseInt,aS=iM.random,a_=i6.reverse,aE=r$(e6,"DataView"),aC=r$(e6,"Map"),aU=r$(e6,"Promise"),aR=r$(e6,"Set"),aV=r$(e6,"WeakMap"),aB=r$(ij,"create"),ak=aV&&new aV,aL={},aA=rI(aE),aT=rI(aC),aI=rI(aU),aW=rI(aR),aF=rI(aV),a0=iX?iX.prototype:q,aD=a0?a0.valueOf:q,a9=a0?a0.toString:q,aH=function(){function e(){}return function(t){if(!is(t))return{};if(ar)return ar(t);e.prototype=t;var n=new e;return e.prototype=q,n}}();tr.templateSettings={escape:e9,evaluate:eH,interpolate:eq,variable:"",imports:{_:tr}},tr.prototype=ti.prototype,tr.prototype.constructor=tr,ta.prototype=aH(ti.prototype),ta.prototype.constructor=ta,ts.prototype=aH(ti.prototype),ts.prototype.constructor=ts,to.prototype.clear=function e(){this.__data__=aB?aB(null):{},this.size=0},to.prototype.delete=function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},to.prototype.get=function e(t){var n=this.__data__;if(aB){var r=n[t];return r===M?q:r}return i7.call(n,t)?n[t]:q},to.prototype.has=function e(t){var n=this.__data__;return aB?n[t]!==q:i7.call(n,t)},to.prototype.set=function e(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=aB&&n===q?M:n,this},tu.prototype.clear=function e(){this.__data__=[],this.size=0},tu.prototype.delete=function e(t){var n=this.__data__,r=t$(n,t);return!(r<0)&&(r==n.length-1?n.pop():aa.call(n,r,1),--this.size,!0)},tu.prototype.get=function e(t){var n=this.__data__,r=t$(n,t);return r<0?q:n[r][1]},tu.prototype.has=function e(t){return t$(this.__data__,t)>-1},tu.prototype.set=function e(t,n){var r=this.__data__,i=t$(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this},tl.prototype.clear=function e(){this.size=0,this.__data__={hash:new to,map:new(aC||tu),string:new to}},tl.prototype.delete=function e(t){var n=r8(this,t).delete(t);return this.size-=n?1:0,n},tl.prototype.get=function e(t){return r8(this,t).get(t)},tl.prototype.has=function e(t){return r8(this,t).has(t)},tl.prototype.set=function e(t,n){var r=r8(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this},tc.prototype.add=tc.prototype.push=function e(t){return this.__data__.set(t,M),this},tc.prototype.has=function e(t){return this.__data__.has(t)},th.prototype.clear=function e(){this.__data__=new tu,this.size=0},th.prototype.delete=function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r},th.prototype.get=function e(t){return this.__data__.get(t)},th.prototype.has=function e(t){return this.__data__.has(t)},th.prototype.set=function e(t,n){var r=this.__data__;if(r instanceof tu){var i=r.__data__;if(!aC||i.length<199)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new tl(i)}return r.set(t,n),this.size=r.size,this};var aq,aO,aM,aj=n4(tD),aK=n4(tq,!0),a1=nP(),az=nP(!0),a6=ak?function(e,t){return ak.set(e,t),e}:iV,aN=al?function(e,t){return al(e,"toString",{configurable:!0,enumerable:!1,value:iR(t),writable:!0})}:iV,a4=ac||function(e){return tM.clearTimeout(e)},aP=aR&&1/W(new aR([,-0]))[1]==J?function(e){return new aR(e)}:iL,a2=ak?function(e){return ak.get(e)}:iL,a7=ag?function(e){return null==e?[]:(e=ij(e),a(ag(e),function(t){return ai.call(e,t)}))}:iT,a3=ag?function(e){for(var t=[];e;)l(t,a7(e)),e=an(e);return t}:iT,a5=tz;(aE&&a5(new aE(new ArrayBuffer(1)))!=eS||aC&&a5(new aC)!=ef||aU&&a5(aU.resolve())!=e8||aR&&a5(new aR)!=e$||aV&&a5(new aV)!=eb)&&(a5=function(e){var t=tz(e),n=t==eg?e.constructor:q,r=n?rI(n):"";if(r)switch(r){case aA:return eS;case aT:return ef;case aI:return e8;case aW:return e$;case aF:return eb}return t});var aG=iP?ir:iI,aZ=rL(a6),aQ=af||function(e,t){return tM.setTimeout(e,t)},aY=rL(aN),aJ=(aM=(aO=rZ(aq=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ej,function(e,n,r,i){t.push(r?i.replace(e3,"$1"):n||e)}),t},function(e){return 500===aM.size&&aM.clear(),e})).cache,aO),aX=nm(function(e,t){return rX(e)?tC(e,tA(t,1,rX,!0)):[]}),se=nm(function(e,t){var n=rH(t);return rX(n)&&(n=q),rX(e)?tC(e,tA(t,1,rX,!0),rg(n,2)):[]}),st=nm(function(e,t){var n=rH(t);return rX(n)&&(n=q),rX(e)?tC(e,tA(t,1,rX,!0),q,n):[]}),sn=nm(function(e){var t=u(e,nF);return t.length&&t[0]===e[0]?tX(t):[]}),sr=nm(function(e){var t=rH(e),n=u(e,nF);return t===rH(n)?t=q:n.pop(),n.length&&n[0]===e[0]?tX(n,rg(t,2)):[]}),si=nm(function(e){var t=rH(e),n=u(e,nF);return(t="function"==typeof t?t:q)&&n.pop(),n.length&&n[0]===e[0]?tX(n,q,t):[]}),sa=nm(rq),ss=rc(function(e,t){var n=null==e?0:e.length,r=tb(e,t);return n8(e,u(t,function(e){return rb(e,n)?+e:e}).sort(nM)),r}),so=nm(function(e){return nB(tA(e,1,rX,!0))}),su=nm(function(e){var t=rH(e);return rX(t)&&(t=q),nB(tA(e,1,rX,!0),rg(t,2))}),sl=nm(function(e){var t=rH(e);return t="function"==typeof t?t:q,nB(tA(e,1,rX,!0),q,t)}),sc=nm(function(e,t){return rX(e)?tC(e,t):[]}),sh=nm(function(e){return nI(a(e,rX))}),sf=nm(function(e){var t=rH(e);return rX(t)&&(t=q),nI(a(e,rX),rg(t,2))}),sd=nm(function(e){var t=rH(e);return t="function"==typeof t?t:q,nI(a(e,rX),q,t)}),sp=nm(rj),sg=nm(function(e){var t=e.length,n=t>1?e[t-1]:q;return n="function"==typeof n?(e.pop(),n):q,rK(e,n)}),s8=rc(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return tb(t,e)};return!(t>1||this.__actions__.length)&&r instanceof ts&&rb(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:r6,args:[i],thisArg:q}),new ta(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(q),e})):this.thru(i)}),sv=n6(function(e,t,n){i7.call(e,n)?++e[n]:tw(e,n,1)}),s$=n5(rF),sm=n5(r0),sy=n6(function(e,t,n){i7.call(e,n)?e[n].push(t):tw(e,n,[t])}),sw=nm(function(t,n,r){var i=-1,a="function"==typeof n,s=rJ(t)?i9(t.length):[];return aj(t,function(t){s[++i]=a?e(n,t,r):ne(t,n,r)}),s}),sb=n6(function(e,t,n){tw(e,n,t)}),sx=n6(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),sS=nm(function(e,t){if(null==e)return[];var n=t.length;return n>1&&rx(e,t[0],t[1])?t=[]:n>2&&rx(t[0],t[1],t[2])&&(t=[t[0]]),nd(e,tA(t,1),[])}),s_=ah||function(){return tM.Date.now()},sE=nm(function(e,t,n){var r=1;if(n.length){var i=I(n,rp(sE));r|=Z}return ra(e,r,t,n,i)}),sC=nm(function(e,t,n){var r=3;if(n.length){var i=I(n,rp(sC));r|=Z}return ra(t,r,e,n,i)}),sU=nm(function(e,t){return tE(e,1,t)}),sR=nm(function(e,t,n){return tE(e,iv(t)||0,n)});rZ.Cache=tl;var sV,sB=nm(function(t,n){var r=(n=1==n.length&&sF(n[0])?u(n[0],C(rg())):u(tA(n,1),C(rg()))).length;return nm(function(i){for(var a=-1,s=aw(i.length,r);++a<s;)i[a]=n[a].call(this,i[a]);return e(t,this,i)})}),sk=nm(function(e,t){return ra(e,Z,q,t,I(t,rp(sk)))}),sL=nm(function(e,t){return ra(e,Q,q,t,I(t,rp(sL)))}),sA=rc(function(e,t){return ra(e,256,q,q,q,t)}),sT=rt(t6),sI=rt(function(e,t){return e>=t}),sW=nt(function(){return arguments}())?nt:function(e){return io(e)&&i7.call(e,"callee")&&!ai.call(e,"callee")},sF=i9.isArray,s0=tN?C(tN):function e(t){return io(t)&&tz(t)==ex},sD=a8||iI,s9=t4?C(t4):function e(t){return io(t)&&tz(t)==eu},sH=tP?C(tP):function e(t){return io(t)&&a5(t)==ef},sq=t2?C(t2):function e(t){return io(t)&&tz(t)==ev},sO=t7?C(t7):function e(t){return io(t)&&a5(t)==e$},sM=t3?C(t3):function e(t){return io(t)&&ia(t.length)&&!!tF[tz(t)]},sj=rt(no),sK=rt(function(e,t){return e<=t}),s1=nN(function(e,t){if(rE(t)||rJ(t))return nz(t,ib(t),e),q;for(var n in t)i7.call(t,n)&&tv(e,n,t[n])}),sz=nN(function(e,t){nz(t,ix(t),e)}),s6=nN(function(e,t,n,r){nz(t,ix(t),e,r)}),sN=nN(function(e,t,n,r){nz(t,ib(t),e,r)}),s4=rc(tb),sP=nm(function(e,t){e=ij(e);var n=-1,r=t.length,i=r>2?t[2]:q;for(i&&rx(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=ix(a),o=-1,u=s.length;++o<u;){var l=s[o],c=e[l];(c===q||rY(c,i4[l])&&!i7.call(e,l))&&(e[l]=a[l])}return e}),s2=nm(function(t){return t.push(q,ro),e(sZ,q,t)}),s7=nQ(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=iG.call(t)),e[t]=n},iR(iV)),s3=nQ(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=iG.call(t)),i7.call(e,t)?e[t].push(n):e[t]=[n]},rg),s5=nm(ne),sG=nN(function(e,t,n){nh(e,t,n)}),sZ=nN(function(e,t,n,r){nh(e,t,n,r)}),sQ=rc(function(e,t){var n={};if(null==e)return n;var r=!1;t=u(t,function(t){return t=nD(t,e),r||(r=t.length>1),t}),nz(e,rf(e),n),r&&(n=tS(n,6|K,ru));for(var i=t.length;i--;)nk(n,t[i]);return n}),sY=rc(function(e,t){var n,r;return null==e?{}:(n=e,np(n,r=t,function(e,t){return iw(n,t)}))}),sJ=ri(ib),sX=ri(ix),oe=n7(function(e,t,n){return t=t.toLowerCase(),e+(n?iE(t):t)}),ot=n7(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),on=n7(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),or=n2("toLowerCase"),oi=n7(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),oa=n7(function(e,t,n){return e+(n?" ":"")+oo(t)}),os=n7(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),oo=n2("toUpperCase"),ou=nm(function(t,n){try{return e(t,q,n)}catch(r){return it(r)?r:new iq(r)}}),ol=rc(function(e,t){return n(t,function(t){t=rT(t),tw(e,t,sE(e[t],e))}),e}),oc=nG(),oh=nG(!0),of=nm(function(e,t){return function(n){return ne(n,e,t)}}),od=nm(function(e,t){return function(n){return ne(e,n,t)}}),op=nJ(u),og=nJ(i),o8=nJ(f),ov=re(),o$=re(!0),om=nY(function(e,t){return e+t},0),oy=rr("ceil"),ow=nY(function(e,t){return e/t},1),ob=rr("floor"),ox=nY(function(e,t){return e*t},1),oS=rr("round"),o_=nY(function(e,t){return e-t},0);return tr.after=function e(t,n){if("function"!=typeof n)throw new iz(O);return t=ig(t),function(){if(--t<1)return n.apply(this,arguments)}},tr.ary=r2,tr.assign=s1,tr.assignIn=sz,tr.assignInWith=s6,tr.assignWith=sN,tr.at=s4,tr.before=r7,tr.bind=sE,tr.bindAll=ol,tr.bindKey=sC,tr.castArray=function e(){if(!arguments.length)return[];var t=arguments[0];return sF(t)?t:[t]},tr.chain=r1,tr.chunk=function e(t,n,r){n=(r?rx(t,n,r):n===q)?1:ay(ig(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,s=0,o=i9(ad(i/n));a<i;)o[s++]=nS(t,a,a+=n);return o},tr.compact=function e(t){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var s=t[n];s&&(a[i++]=s)}return a},tr.concat=function e(){var t=arguments.length;if(!t)return[];for(var n=i9(t-1),r=arguments[0],i=t;i--;)n[i-1]=arguments[i];return l(sF(r)?n1(r):[r],tA(n,1))},tr.cond=function t(n){var r=null==n?0:n.length,i=rg();return n=r?u(n,function(e){if("function"!=typeof e[1])throw new iz(O);return[i(e[0]),e[1]]}):[],nm(function(t){for(var i=-1;++i<r;){var a=n[i];if(e(a[0],this,t))return e(a[1],this,t)}})},tr.conforms=function e(t){var n,r;return n=tS(t,K),r=ib(n),function(e){return t_(e,n,r)}},tr.constant=iR,tr.countBy=sv,tr.create=function e(t,n){var r=aH(t);return null==n?r:ty(r,n)},tr.curry=r3,tr.curryRight=r5,tr.debounce=rG,tr.defaults=sP,tr.defaultsDeep=s2,tr.defer=sU,tr.delay=sR,tr.difference=aX,tr.differenceBy=se,tr.differenceWith=st,tr.drop=function e(t,n,r){var i=null==t?0:t.length;return i?(n=r||n===q?1:ig(n),nS(t,n<0?0:n,i)):[]},tr.dropRight=function e(t,n,r){var i=null==t?0:t.length;return i?(n=r||n===q?1:ig(n),nS(t,0,(n=i-n)<0?0:n)):[]},tr.dropRightWhile=function e(t,n){return t&&t.length?nA(t,rg(n,3),!0,!0):[]},tr.dropWhile=function e(t,n){return t&&t.length?nA(t,rg(n,3),!0):[]},tr.fill=function e(t,n,r,i){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&rx(t,n,r)&&(r=0,i=a),function e(t,n,r,i){var a=t.length;for((r=ig(r))<0&&(r=-r>a?0:a+r),(i=i===q||i>a?a:ig(i))<0&&(i+=a),i=r>i?0:i8(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},tr.filter=function e(t,n){return(sF(t)?a:tk)(t,rg(n,3))},tr.flatMap=function e(t,n){return tA(rP(t,n),1)},tr.flatMapDeep=function e(t,n){return tA(rP(t,n),J)},tr.flatMapDepth=function e(t,n,r){return r=r===q?1:ig(r),tA(rP(t,n),r)},tr.flatten=rD,tr.flattenDeep=function e(t){return(null==t?0:t.length)?tA(t,J):[]},tr.flattenDepth=function e(t,n){return(null==t?0:t.length)?(n=n===q?1:ig(n),tA(t,n)):[]},tr.flip=function e(t){return ra(t,512)},tr.flow=oc,tr.flowRight=oh,tr.fromPairs=function e(t){for(var n=-1,r=null==t?0:t.length,i={};++n<r;){var a=t[n];i[a[0]]=a[1]}return i},tr.functions=function e(t){return null==t?[]:tO(t,ib(t))},tr.functionsIn=function e(t){return null==t?[]:tO(t,ix(t))},tr.groupBy=sy,tr.initial=function e(t){return(null==t?0:t.length)?nS(t,0,-1):[]},tr.intersection=sn,tr.intersectionBy=sr,tr.intersectionWith=si,tr.invert=s7,tr.invertBy=s3,tr.invokeMap=sw,tr.iteratee=iB,tr.keyBy=sb,tr.keys=ib,tr.keysIn=ix,tr.map=rP,tr.mapKeys=function e(t,n){var r={};return n=rg(n,3),tD(t,function(e,t,i){tw(r,n(e,t,i),e)}),r},tr.mapValues=function e(t,n){var r={};return n=rg(n,3),tD(t,function(e,t,i){tw(r,t,n(e,t,i))}),r},tr.matches=function e(t){return nl(tS(t,K))},tr.matchesProperty=function e(t,n){return nc(t,tS(n,K))},tr.memoize=rZ,tr.merge=sG,tr.mergeWith=sZ,tr.method=of,tr.methodOf=od,tr.mixin=ik,tr.negate=rQ,tr.nthArg=function e(t){return t=ig(t),nm(function(e){return nf(e,t)})},tr.omit=sQ,tr.omitBy=function e(t,n){return iS(t,rQ(rg(n)))},tr.once=function e(t){return r7(2,t)},tr.orderBy=function e(t,n,r,i){return null==t?[]:(sF(n)||(n=null==n?[]:[n]),r=i?q:r,sF(r)||(r=null==r?[]:[r]),nd(t,n,r))},tr.over=op,tr.overArgs=sB,tr.overEvery=og,tr.overSome=o8,tr.partial=sk,tr.partialRight=sL,tr.partition=sx,tr.pick=sY,tr.pickBy=iS,tr.property=iA,tr.propertyOf=function e(t){return function(e){return null==t?q:tj(t,e)}},tr.pull=sa,tr.pullAll=rq,tr.pullAllBy=function e(t,n,r){return t&&t.length&&n&&n.length?ng(t,n,rg(r,2)):t},tr.pullAllWith=function e(t,n,r){return t&&t.length&&n&&n.length?ng(t,n,q,r):t},tr.pullAt=ss,tr.range=ov,tr.rangeRight=o$,tr.rearg=sA,tr.reject=function e(t,n){return(sF(t)?a:tk)(t,rQ(rg(n,3)))},tr.remove=function e(t,n){var r=[];if(!t||!t.length)return r;var i=-1,a=[],s=t.length;for(n=rg(n,3);++i<s;){var o=t[i];n(o,i,t)&&(r.push(o),a.push(i))}return n8(t,a),r},tr.rest=function e(t,n){if("function"!=typeof t)throw new iz(O);return n=n===q?n:ig(n),nm(t,n)},tr.reverse=rO,tr.sampleSize=function e(t,n,r){return n=(r?rx(t,n,r):n===q)?1:ig(n),(sF(t)?tp:nw)(t,n)},tr.set=function e(t,n,r){return null==t?t:nb(t,n,r)},tr.setWith=function e(t,n,r,i){return i="function"==typeof i?i:q,null==t?t:nb(t,n,r,i)},tr.shuffle=function e(t){return(sF(t)?tg:nx)(t)},tr.slice=function e(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&rx(t,n,r)?(n=0,r=i):(n=null==n?0:ig(n),r=r===q?i:ig(r)),nS(t,n,r)):[]},tr.sortBy=sS,tr.sortedUniq=function e(t){return t&&t.length?nU(t):[]},tr.sortedUniqBy=function e(t,n){return t&&t.length?nU(t,rg(n,2)):[]},tr.split=function e(t,n,r){return r&&"number"!=typeof r&&rx(t,n,r)&&(n=r=q),(r=r===q?et:r>>>0)?(t=im(t))&&("string"==typeof n||null!=n&&!sq(n))&&!(n=nV(n))&&L(t)?n9(D(t),0,r):t.split(n,r):[]},tr.spread=function t(n,r){if("function"!=typeof n)throw new iz(O);return r=null==r?0:ay(ig(r),0),nm(function(t){var i=t[r],a=n9(t,0,r);return i&&l(a,i),e(n,this,a)})},tr.tail=function e(t){var n=null==t?0:t.length;return n?nS(t,1,n):[]},tr.take=function e(t,n,r){return t&&t.length?(n=r||n===q?1:ig(n),nS(t,0,n<0?0:n)):[]},tr.takeRight=function e(t,n,r){var i=null==t?0:t.length;return i?(n=r||n===q?1:ig(n),nS(t,(n=i-n)<0?0:n,i)):[]},tr.takeRightWhile=function e(t,n){return t&&t.length?nA(t,rg(n,3),!1,!0):[]},tr.takeWhile=function e(t,n){return t&&t.length?nA(t,rg(n,3)):[]},tr.tap=rz,tr.throttle=function e(t,n,r){var i=!0,a=!0;if("function"!=typeof t)throw new iz(O);return is(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),rG(t,n,{leading:i,maxWait:n,trailing:a})},tr.thru=r6,tr.toArray=id,tr.toPairs=sJ,tr.toPairsIn=sX,tr.toPath=function e(t){return sF(t)?u(t,rT):ih(t)?[t]:n1(aJ(im(t)))},tr.toPlainObject=i$,tr.transform=function e(t,r,i){var a=sF(t),s=a||sD(t)||sM(t);if(r=rg(r,4),null==i){var o=t&&t.constructor;i=s?a?new o:[]:is(t)&&ir(o)?aH(an(t)):{}}return(s?n:tD)(t,function(e,t,n){return r(i,e,t,n)}),i},tr.unary=function e(t){return r2(t,1)},tr.union=so,tr.unionBy=su,tr.unionWith=sl,tr.uniq=function e(t){return t&&t.length?nB(t):[]},tr.uniqBy=function e(t,n){return t&&t.length?nB(t,rg(n,2)):[]},tr.uniqWith=function e(t,n){return n="function"==typeof n?n:q,t&&t.length?nB(t,q,n):[]},tr.unset=function e(t,n){return null==t||nk(t,n)},tr.unzip=rj,tr.unzipWith=rK,tr.update=function e(t,n,r){return null==t?t:nL(t,n,n0(r))},tr.updateWith=function e(t,n,r,i){return i="function"==typeof i?i:q,null==t?t:nL(t,n,n0(r),i)},tr.values=i_,tr.valuesIn=function e(t){return null==t?[]:U(t,ix(t))},tr.without=sc,tr.words=iU,tr.wrap=function e(t,n){return sk(n0(n),t)},tr.xor=sh,tr.xorBy=sf,tr.xorWith=sd,tr.zip=sp,tr.zipObject=function e(t,n){return nW(t||[],n||[],tv)},tr.zipObjectDeep=function e(t,n){return nW(t||[],n||[],nb)},tr.zipWith=sg,tr.entries=sJ,tr.entriesIn=sX,tr.extend=sz,tr.extendWith=s6,ik(tr,tr),tr.add=om,tr.attempt=ou,tr.camelCase=oe,tr.capitalize=iE,tr.ceil=oy,tr.clamp=function e(t,n,r){return r===q&&(r=n,n=q),r!==q&&(r=(r=iv(r))==r?r:0),n!==q&&(n=(n=iv(n))==n?n:0),tx(iv(t),n,r)},tr.clone=function e(t){return tS(t,4)},tr.cloneDeep=function e(t){return tS(t,4|K)},tr.cloneDeepWith=function e(t,n){return n="function"==typeof n?n:q,tS(t,4|K,n)},tr.cloneWith=function e(t,n){return n="function"==typeof n?n:q,tS(t,4,n)},tr.conformsTo=function e(t,n){return null==n||t_(t,n,ib(n))},tr.deburr=iC,tr.defaultTo=function e(t,n){return null==t||t!=t?n:t},tr.divide=ow,tr.endsWith=function e(t,n,r){t=im(t),n=nV(n);var i=t.length,a=r=r===q?i:tx(ig(r),0,i);return(r-=n.length)>=0&&t.slice(r,a)==n},tr.eq=rY,tr.escape=function e(t){return(t=im(t))&&eD.test(t)?t.replace(eF,tZ):t},tr.escapeRegExp=function e(t){return(t=im(t))&&e1.test(t)?t.replace(eK,"\\$&"):t},tr.every=function e(t,n,r){var a=sF(t)?i:tU;return r&&rx(t,n,r)&&(n=q),a(t,rg(n,3))},tr.find=s$,tr.findIndex=rF,tr.findKey=function e(t,n){return d(t,rg(n,3),tD)},tr.findLast=sm,tr.findLastIndex=r0,tr.findLastKey=function e(t,n){return d(t,rg(n,3),tq)},tr.floor=ob,tr.forEach=rN,tr.forEachRight=r4,tr.forIn=function e(t,n){return null==t?t:a1(t,rg(n,3),ix)},tr.forInRight=function e(t,n){return null==t?t:az(t,rg(n,3),ix)},tr.forOwn=function e(t,n){return t&&tD(t,rg(n,3))},tr.forOwnRight=function e(t,n){return t&&tq(t,rg(n,3))},tr.get=iy,tr.gt=sT,tr.gte=sI,tr.has=function e(t,n){return null!=t&&rm(t,n,t5)},tr.hasIn=iw,tr.head=r9,tr.identity=iV,tr.includes=function e(t,n,r,i){t=rJ(t)?t:i_(t),r=r&&!i?ig(r):0;var a=t.length;return r<0&&(r=ay(a+r,0)),ic(t)?r<=a&&t.indexOf(n,r)>-1:!!a&&g(t,n,r)>-1},tr.indexOf=function e(t,n,r){var i=null==t?0:t.length;if(!i)return -1;var a=null==r?0:ig(r);return a<0&&(a=ay(i+a,0)),g(t,n,a)},tr.inRange=function e(t,n,r){var i,a,s;return n=ip(n),r===q?(r=n,n=0):r=ip(r),i=t=iv(t),i>=aw(a=n,s=r)&&i<ay(a,s)},tr.invoke=s5,tr.isArguments=sW,tr.isArray=sF,tr.isArrayBuffer=s0,tr.isArrayLike=rJ,tr.isArrayLikeObject=rX,tr.isBoolean=function e(t){return!0===t||!1===t||io(t)&&tz(t)==eo},tr.isBuffer=sD,tr.isDate=s9,tr.isElement=function e(t){return io(t)&&1===t.nodeType&&!il(t)},tr.isEmpty=function e(t){if(null==t)return!0;if(rJ(t)&&(sF(t)||"string"==typeof t||"function"==typeof t.splice||sD(t)||sM(t)||sW(t)))return!t.length;var n=a5(t);if(n==ef||n==e$)return!t.size;if(rE(t))return!ns(t).length;for(var r in t)if(i7.call(t,r))return!1;return!0},tr.isEqual=ie,tr.isEqualWith=function e(t,n,r){var i=(r="function"==typeof r?r:q)?r(t,n):q;return i===q?nn(t,n,q,r):!!i},tr.isError=it,tr.isFinite=function e(t){return"number"==typeof t&&av(t)},tr.isFunction=ir,tr.isInteger=ii,tr.isLength=ia,tr.isMap=sH,tr.isMatch=function e(t,n){return t===n||nr(t,n,rv(n))},tr.isMatchWith=function e(t,n,r){return r="function"==typeof r?r:q,nr(t,n,rv(n),r)},tr.isNaN=function e(t){return iu(t)&&t!=+t},tr.isNative=function e(t){if(aG(t))throw new iq("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ni(t)},tr.isNil=function e(t){return null==t},tr.isNull=function e(t){return null===t},tr.isNumber=iu,tr.isObject=is,tr.isObjectLike=io,tr.isPlainObject=il,tr.isRegExp=sq,tr.isSafeInteger=function e(t){return ii(t)&&t>=-X&&t<=X},tr.isSet=sO,tr.isString=ic,tr.isSymbol=ih,tr.isTypedArray=sM,tr.isUndefined=function e(t){return t===q},tr.isWeakMap=function e(t){return io(t)&&a5(t)==eb},tr.isWeakSet=function e(t){return io(t)&&"[object WeakSet]"==tz(t)},tr.join=function e(t,n){return null==t?"":a$.call(t,n)},tr.kebabCase=ot,tr.last=rH,tr.lastIndexOf=function e(t,n,r){var i=null==t?0:t.length;if(!i)return -1;var a=i;return r!==q&&(a=(a=ig(r))<0?ay(i+a,0):aw(a,i-1)),n==n?function e(t,n,r){for(var i=r+1;i--&&t[i]!==n;);return i}(t,n,a):p(t,$,a,!0)},tr.lowerCase=on,tr.lowerFirst=or,tr.lt=sj,tr.lte=sK,tr.max=function e(t){return t&&t.length?tR(t,iV,t6):q},tr.maxBy=function e(t,n){return t&&t.length?tR(t,rg(n,2),t6):q},tr.mean=function e(t){return m(t,iV)},tr.meanBy=function e(t,n){return m(t,rg(n,2))},tr.min=function e(t){return t&&t.length?tR(t,iV,no):q},tr.minBy=function e(t,n){return t&&t.length?tR(t,rg(n,2),no):q},tr.stubArray=iT,tr.stubFalse=iI,tr.stubObject=iW,tr.stubString=iF,tr.stubTrue=i0,tr.multiply=ox,tr.nth=function e(t,n){return t&&t.length?nf(t,ig(n)):q},tr.noConflict=function e(){return tM._===this&&(tM._=iQ),this},tr.noop=iL,tr.now=s_,tr.pad=function e(t,n,r){t=im(t);var i=(n=ig(n))?F(t):0;if(!n||i>=n)return t;var a=(n-i)/2;return nX(ap(a),r)+t+nX(ad(a),r)},tr.padEnd=function e(t,n,r){t=im(t);var i=(n=ig(n))?F(t):0;return n&&i<n?t+nX(n-i,r):t},tr.padStart=function e(t,n,r){t=im(t);var i=(n=ig(n))?F(t):0;return n&&i<n?nX(n-i,r)+t:t},tr.parseInt=function e(t,n,r){return r||null==n?n=0:n&&(n=+n),ax(im(t).replace(ez,""),n||0)},tr.random=function e(t,n,r){if(r&&"boolean"!=typeof r&&rx(t,n,r)&&(n=r=q),r===q&&("boolean"==typeof n?(r=n,n=q):"boolean"==typeof t&&(r=t,t=q)),t===q&&n===q?(t=0,n=1):(t=ip(t),n===q?(n=t,t=0):n=ip(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var a=aS();return aw(t+a*(n-t+t9("1e-"+((a+"").length-1))),n)}return nv(t,n)},tr.reduce=function e(t,n,r){var i=sF(t)?c:b,a=arguments.length<3;return i(t,rg(n,4),r,a,aj)},tr.reduceRight=function e(t,n,r){var i=sF(t)?h:b,a=arguments.length<3;return i(t,rg(n,4),r,a,aK)},tr.repeat=function e(t,n,r){return n=(r?rx(t,n,r):n===q)?1:ig(n),n$(im(t),n)},tr.replace=function e(){var t=arguments,n=im(t[0]);return t.length<3?n:n.replace(t[1],t[2])},tr.result=function e(t,n,r){n=nD(n,t);var i=-1,a=n.length;for(a||(a=1,t=q);++i<a;){var s=null==t?q:t[rT(n[i])];s===q&&(i=a,s=r),t=ir(s)?s.call(t):s}return t},tr.round=oS,tr.runInContext=w,tr.sample=function e(t){return(sF(t)?td:ny)(t)},tr.size=function e(t){if(null==t)return 0;if(rJ(t))return ic(t)?F(t):t.length;var n=a5(t);return n==ef||n==e$?t.size:ns(t).length},tr.snakeCase=oi,tr.some=function e(t,n,r){var i=sF(t)?f:n_;return r&&rx(t,n,r)&&(n=q),i(t,rg(n,3))},tr.sortedIndex=rM,tr.sortedIndexBy=function e(t,n,r){return nC(t,n,rg(r,2))},tr.sortedIndexOf=function e(t,n){var r=null==t?0:t.length;if(r){var i=nE(t,n);if(i<r&&rY(t[i],n))return i}return -1},tr.sortedLastIndex=function e(t,n){return nE(t,n,!0)},tr.sortedLastIndexBy=function e(t,n,r){return nC(t,n,rg(r,2),!0)},tr.sortedLastIndexOf=function e(t,n){if(null==t?0:t.length){var r=nE(t,n,!0)-1;if(rY(t[r],n))return r}return -1},tr.startCase=oa,tr.startsWith=function e(t,n,r){return t=im(t),r=null==r?0:tx(ig(r),0,t.length),n=nV(n),t.slice(r,r+n.length)==n},tr.subtract=o_,tr.sum=function e(t){return t&&t.length?x(t,iV):0},tr.sumBy=function e(t,n){return t&&t.length?x(t,rg(n,2)):0},tr.template=function e(t,n,r){var i=tr.templateSettings;r&&rx(t,n,r)&&(n=q),t=im(t),n=s6({},n,i,rs);var a,s,o=s6({},n.imports,i.imports,rs),u=ib(o),l=U(o,u),c=0,h=n.interpolate||tt,f="__p += '",d=iK((n.escape||tt).source+"|"+h.source+"|"+(h===eq?e5:tt).source+"|"+(n.evaluate||tt).source+"|$","g"),p="//# sourceURL="+(i7.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tW+"]")+"\n";t.replace(d,function(e,n,r,i,o,u){return r||(r=i),f+=t.slice(c,u).replace(tn,k),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),o&&(s=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var g=i7.call(n,"variable")&&n.variable;if(g){if(e7.test(g))throw new iq("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(eA,""):f).replace(eT,"$1").replace(eI,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=ou(function(){return iO(u,p+"return "+f).apply(q,l)});if(v.source=f,it(v))throw v;return v},tr.times=function e(t,n){if((t=ig(t))<1||t>X)return[];var r=et,i=aw(t,et);n=rg(n),t-=et;for(var a=S(i,n);++r<t;)n(r);return a},tr.toFinite=ip,tr.toInteger=ig,tr.toLength=i8,tr.toLower=function e(t){return im(t).toLowerCase()},tr.toNumber=iv,tr.toSafeInteger=function e(t){return t?tx(ig(t),-X,X):0===t?t:0},tr.toString=im,tr.toUpper=function e(t){return im(t).toUpperCase()},tr.trim=function e(t,n,r){if((t=im(t))&&(r||n===q))return E(t);if(!t||!(n=nV(n)))return t;var i=D(t),a=D(n);return n9(i,V(i,a),B(i,a)+1).join("")},tr.trimEnd=function e(t,n,r){if((t=im(t))&&(r||n===q))return t.slice(0,H(t)+1);if(!t||!(n=nV(n)))return t;var i=D(t);return n9(i,0,B(i,D(n))+1).join("")},tr.trimStart=function e(t,n,r){if((t=im(t))&&(r||n===q))return t.replace(ez,"");if(!t||!(n=nV(n)))return t;var i=D(t);return n9(i,V(i,D(n))).join("")},tr.truncate=function e(t,n){var r=30,i=Y;if(is(n)){var a="separator"in n?n.separator:a;r="length"in n?ig(n.length):r,i="omission"in n?nV(n.omission):i}var s=(t=im(t)).length;if(L(t)){var o=D(t);s=o.length}if(r>=s)return t;var u=r-F(i);if(u<1)return i;var l=o?n9(o,0,u).join(""):t.slice(0,u);if(a===q)return l+i;if(o&&(u+=l.length-u),sq(a)){if(t.slice(u).search(a)){var c,h=l;for(a.global||(a=iK(a.source,im(eG.exec(a))+"g")),a.lastIndex=0;c=a.exec(h);)var f=c.index;l=l.slice(0,f===q?u:f)}}else if(t.indexOf(nV(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+i},tr.unescape=function e(t){return(t=im(t))&&e0.test(t)?t.replace(eW,tQ):t},tr.uniqueId=function e(t){var n=++i3;return im(t)+n},tr.upperCase=os,tr.upperFirst=oo,tr.each=rN,tr.eachRight=r4,tr.first=r9,ik(tr,(sV={},tD(tr,function(e,t){i7.call(tr.prototype,t)||(sV[t]=e)}),sV),{chain:!1}),tr.VERSION="4.17.21",n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){tr[e].placeholder=tr}),n(["drop","take"],function(e,t){ts.prototype[e]=function(n){n=n===q?1:ay(ig(n),0);var r=this.__filtered__&&!t?new ts(this):this.clone();return r.__filtered__?r.__takeCount__=aw(n,r.__takeCount__):r.__views__.push({size:aw(n,et),type:e+(r.__dir__<0?"Right":"")}),r},ts.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),n(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ts.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:rg(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),n(["head","last"],function(e,t){var n="take"+(t?"Right":"");ts.prototype[e]=function(){return this[n](1).value()[0]}}),n(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ts.prototype[e]=function(){return this.__filtered__?new ts(this):this[n](1)}}),ts.prototype.compact=function(){return this.filter(iV)},ts.prototype.find=function(e){return this.filter(e).head()},ts.prototype.findLast=function(e){return this.reverse().find(e)},ts.prototype.invokeMap=nm(function(e,t){return"function"==typeof e?new ts(this):this.map(function(n){return ne(n,e,t)})}),ts.prototype.reject=function(e){return this.filter(rQ(rg(e)))},ts.prototype.slice=function(e,t){e=ig(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ts(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==q&&(n=(t=ig(t))<0?n.dropRight(-t):n.take(t-e)),n)},ts.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ts.prototype.toArray=function(){return this.take(et)},tD(ts.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=tr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(tr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,o=t instanceof ts,u=s[0],c=o||sF(t),h=function(e){var t=i.apply(tr,l([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(o=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,g=o&&!d;if(!a&&c){t=g?t:new ts(this);var v=e.apply(t,s);return v.__actions__.push({func:r6,args:[h],thisArg:q}),new ta(v,f)}return p&&g?e.apply(this,s):(v=this.thru(h),p?r?v.value()[0]:v.value():v)})}),n(["pop","push","shift","sort","splice","unshift"],function(e){var t=i6[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);tr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(sF(i)?i:[],e)}return this[n](function(n){return t.apply(sF(n)?n:[],e)})}}),tD(ts.prototype,function(e,t){var n=tr[t];if(n){var r=n.name+"";i7.call(aL,r)||(aL[r]=[]),aL[r].push({name:t,func:n})}}),aL[nZ(q,2).name]=[{name:"wrapper",func:q}],ts.prototype.clone=function e(){var t=new ts(this.__wrapped__);return t.__actions__=n1(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=n1(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=n1(this.__views__),t},ts.prototype.reverse=function e(){if(this.__filtered__){var t=new ts(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},ts.prototype.value=function e(){var t=this.__wrapped__.value(),n=this.__dir__,r=sF(t),i=n<0,a=r?t.length:0,s=function e(t,n,r){for(var i=-1,a=r.length;++i<a;){var s=r[i],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":n-=o;break;case"take":n=aw(n,t+o);break;case"takeRight":t=ay(t,n-o)}}return{start:t,end:n}}(0,a,this.__views__),o=s.start,u=s.end,l=u-o,c=i?u:o-1,h=this.__iteratees__,f=h.length,d=0,p=aw(l,this.__takeCount__);if(!r||!i&&a==l&&p==l)return nT(t,this.__actions__);var g=[];n:for(;l--&&d<p;){c+=n;for(var v=-1,$=t[c];++v<f;){var m=h[v],y=m.iteratee,w=m.type,b=y($);if(2==w)$=b;else if(!b){if(1==w)continue n;break n}}g[d++]=$}return g},tr.prototype.at=s8,tr.prototype.chain=function e(){return r1(this)},tr.prototype.commit=function e(){return new ta(this.value(),this.__chain__)},tr.prototype.next=function e(){this.__values__===q&&(this.__values__=id(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?q:this.__values__[this.__index__++]}},tr.prototype.plant=function e(t){for(var n,r=this;r instanceof ti;){var i=rW(r);i.__index__=0,i.__values__=q,n?a.__wrapped__=i:n=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,n},tr.prototype.reverse=function e(){var t=this.__wrapped__;if(t instanceof ts){var n=t;return this.__actions__.length&&(n=new ts(this)),(n=n.reverse()).__actions__.push({func:r6,args:[rO],thisArg:q}),new ta(n,this.__chain__)}return this.thru(rO)},tr.prototype.toJSON=tr.prototype.valueOf=tr.prototype.value=function e(){return nT(this.__wrapped__,this.__actions__)},tr.prototype.first=tr.prototype.head,ao&&(tr.prototype[ao]=function e(){return this}),tr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tM._=tY,define(function(){return tY})):tK?((tK.exports=tY)._=tY,tj._=tY):tM._=tY}).call(this),window.annexSearch.DependencyLoader.load(function(){window.annexSearch.AnnexSearch.setup()});